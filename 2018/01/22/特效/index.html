<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="特效," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394959697989910010110210">
<meta name="keywords" content="特效">
<meta property="og:type" content="article">
<meta property="og:title" content="特效">
<meta property="og:url" content="http://yoursite.com/2018/01/22/特效/index.html">
<meta property="og:site_name" content="杨大帅哥的博客">
<meta property="og:description" content="12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394959697989910010110210">
<meta property="og:image" content="http://oohubzl9h.bkt.clouddn.com/%E7%B2%92%E5%AD%90.PNG">
<meta property="og:image" content="http://oohubzl9h.bkt.clouddn.com/%E5%A7%8B%E7%BB%88.PNG">
<meta property="og:image" content="http://oohubzl9h.bkt.clouddn.com/%E7%8E%9B%E4%B8%BD.PNG">
<meta property="og:image" content="http://oohubzl9h.bkt.clouddn.com/%E8%B5%9B%E8%BD%A6.png">
<meta property="og:updated_time" content="2018-01-22T10:46:12.918Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="特效">
<meta name="twitter:description" content="12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394959697989910010110210">
<meta name="twitter:image" content="http://oohubzl9h.bkt.clouddn.com/%E7%B2%92%E5%AD%90.PNG">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2018/01/22/特效/"/>





  <title> 特效 | 杨大帅哥的博客 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">杨大帅哥的博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">泥土之上与泥土之下，大概是喜欢与爱的界限吧！</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/01/22/特效/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="杨彦修">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://oohubzl9h.bkt.clouddn.com/%E9%99%88.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="杨大帅哥的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                特效
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-01-22T13:25:54+08:00">
                2018-01-22
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/web前端/" itemprop="url" rel="index">
                    <span itemprop="name">web前端</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div><div class="line">221</div><div class="line">222</div><div class="line">223</div><div class="line">224</div><div class="line">225</div><div class="line">226</div><div class="line">227</div><div class="line">228</div><div class="line">229</div><div class="line">230</div><div class="line">231</div><div class="line">232</div><div class="line">233</div><div class="line">234</div><div class="line">235</div><div class="line">236</div><div class="line">237</div><div class="line">238</div><div class="line">239</div><div class="line">240</div><div class="line">241</div><div class="line">242</div><div class="line">243</div><div class="line">244</div><div class="line">245</div><div class="line">246</div><div class="line">247</div><div class="line">248</div><div class="line">249</div><div class="line">250</div><div class="line">251</div><div class="line">252</div><div class="line">253</div><div class="line">254</div><div class="line">255</div><div class="line">256</div><div class="line">257</div><div class="line">258</div><div class="line">259</div><div class="line">260</div><div class="line">261</div><div class="line">262</div><div class="line">263</div><div class="line">264</div><div class="line">265</div><div class="line">266</div><div class="line">267</div><div class="line">268</div><div class="line">269</div><div class="line">270</div><div class="line">271</div><div class="line">272</div><div class="line">273</div><div class="line">274</div><div class="line">275</div><div class="line">276</div><div class="line">277</div><div class="line">278</div><div class="line">279</div><div class="line">280</div><div class="line">281</div><div class="line">282</div><div class="line">283</div><div class="line">284</div><div class="line">285</div><div class="line">286</div><div class="line">287</div><div class="line">288</div><div class="line">289</div><div class="line">290</div></pre></td><td class="code"><pre><div class="line">&lt;!doctype html&gt;</div><div class="line">&lt;html lang=&quot;en&quot;&gt;</div><div class="line"> &lt;head&gt;</div><div class="line">  &lt;meta charset=&quot;UTF-8&quot;&gt;</div><div class="line">  &lt;meta name=&quot;Generator&quot; content=&quot;EditPlus®&quot;&gt;</div><div class="line">  &lt;meta name=&quot;Author&quot; content=&quot;&quot;&gt;</div><div class="line">  &lt;meta name=&quot;Keywords&quot; content=&quot;&quot;&gt;</div><div class="line">  &lt;meta name=&quot;Description&quot; content=&quot;&quot;&gt;</div><div class="line">  &lt;title&gt;Document&lt;/title&gt;</div><div class="line">  &lt;style&gt;html,body &#123;</div><div class="line">    width: 100%;</div><div class="line">    height: 100%;</div><div class="line">    margin: 0;</div><div class="line">    padding: 0;</div><div class="line">    overflow: hidden;</div><div class="line">&#125;</div><div class="line">.container&#123;</div><div class="line">    width: 100％;</div><div class="line">    height: 100%;</div><div class="line">    margin: 0;</div><div class="line">    padding: 0;</div><div class="line">    background-color: #000000;</div><div class="line">&#125;&lt;/style&gt;</div><div class="line">&lt;script src=&quot;https://cdn.bootcss.com/jquery/1.12.4/jquery.js&quot;&gt;&lt;/script&gt;</div><div class="line">&lt;script&gt;var RENDERER = &#123;</div><div class="line">    PARTICLE_COUNT : 1500,</div><div class="line">    PARTICLE_RADIUS : 1,</div><div class="line">    MAX_ROTATION_ANGLE : Math.PI / 60,</div><div class="line">    TRANSLATION_COUNT : 500,</div><div class="line">     </div><div class="line">    init : function(strategy)&#123;</div><div class="line">        this.setParameters(strategy);</div><div class="line">        this.createParticles();</div><div class="line">        this.setupFigure();</div><div class="line">        this.reconstructMethod();</div><div class="line">        this.bindEvent();</div><div class="line">        this.drawFigure();</div><div class="line">    &#125;,</div><div class="line">    setParameters : function(strategy)&#123;</div><div class="line">        this.$window = $(window);</div><div class="line">         </div><div class="line">        this.$container = $(&apos;#jsi-particle-container&apos;);</div><div class="line">        this.width = this.$container.width();</div><div class="line">        this.height = this.$container.height();</div><div class="line">         </div><div class="line">        this.$canvas = $(&apos;&lt;canvas /&gt;&apos;).attr(&#123;width : this.width, height : this.height&#125;).appendTo(this.$container);</div><div class="line">        this.context = this.$canvas.get(0).getContext(&apos;2d&apos;);</div><div class="line">         </div><div class="line">        this.center = &#123;x : this.width / 2, y : this.height / 2&#125;;</div><div class="line">         </div><div class="line">        this.rotationX = this.MAX_ROTATION_ANGLE;</div><div class="line">        this.rotationY = this.MAX_ROTATION_ANGLE;</div><div class="line">        this.strategyIndex = 0;</div><div class="line">        this.translationCount = 0;</div><div class="line">        this.theta = 0;</div><div class="line">         </div><div class="line">        this.strategies = strategy.getStrategies();</div><div class="line">        this.particles = [];</div><div class="line">    &#125;,</div><div class="line">    createParticles : function()&#123;</div><div class="line">        for(var i = 0; i &lt; this.PARTICLE_COUNT; i ++)&#123;</div><div class="line">            this.particles.push(new PARTICLE(this.center));</div><div class="line">        &#125;</div><div class="line">    &#125;,</div><div class="line">    reconstructMethod : function()&#123;</div><div class="line">        this.setupFigure = this.setupFigure.bind(this);</div><div class="line">        this.drawFigure = this.drawFigure.bind(this);</div><div class="line">        this.changeAngle = this.changeAngle.bind(this);</div><div class="line">    &#125;,</div><div class="line">    bindEvent : function()&#123;</div><div class="line">        this.$container.on(&apos;click&apos;, this.setupFigure);</div><div class="line">        this.$container.on(&apos;mousemove&apos;, this.changeAngle);</div><div class="line">    &#125;,</div><div class="line">    changeAngle : function(event)&#123;</div><div class="line">        var offset = this.$container.offset(),</div><div class="line">            x = event.clientX - offset.left + this.$window.scrollLeft(),</div><div class="line">            y = event.clientY - offset.top + this.$window.scrollTop();</div><div class="line">         </div><div class="line">        this.rotationX = (this.center.y - y) / this.center.y * this.MAX_ROTATION_ANGLE;</div><div class="line">        this.rotationY = (this.center.x - x) / this.center.x * this.MAX_ROTATION_ANGLE;</div><div class="line">    &#125;,</div><div class="line">    setupFigure : function()&#123;</div><div class="line">        for(var i = 0, length = this.particles.length; i &lt; length; i++)&#123;</div><div class="line">            this.particles[i].setAxis(this.strategies[this.strategyIndex]());</div><div class="line">        &#125;</div><div class="line">        if(++this.strategyIndex == this.strategies.length)&#123;</div><div class="line">            this.strategyIndex = 0;</div><div class="line">        &#125;</div><div class="line">        this.translationCount = 0;</div><div class="line">    &#125;,</div><div class="line">    drawFigure : function()&#123;</div><div class="line">        requestAnimationFrame(this.drawFigure);</div><div class="line">         </div><div class="line">        this.context.fillStyle = &apos;rgba(0, 0, 0, 0.2)&apos;;</div><div class="line">        this.context.fillRect(0, 0, this.width, this.height);</div><div class="line">         </div><div class="line">        for(var i = 0, length = this.particles.length; i &lt; length; i++)&#123;</div><div class="line">            var axis = this.particles[i].getAxis2D(this.theta);</div><div class="line">             </div><div class="line">            this.context.beginPath();</div><div class="line">            this.context.fillStyle = axis.color;</div><div class="line">            this.context.arc(axis.x, axis.y, this.PARTICLE_RADIUS, 0, Math.PI * 2, false);</div><div class="line">            this.context.fill();</div><div class="line">        &#125;</div><div class="line">        this.theta++;</div><div class="line">        this.theta %= 360;</div><div class="line">         </div><div class="line">        for(var i = 0, length = this.particles.length; i &lt; length; i++)&#123;</div><div class="line">            this.particles[i].rotateX(this.rotationX);</div><div class="line">            this.particles[i].rotateY(this.rotationY);</div><div class="line">        &#125;</div><div class="line">        this.translationCount++;</div><div class="line">        this.translationCount %= this.TRANSLATION_COUNT;</div><div class="line">         </div><div class="line">        if(this.translationCount == 0)&#123;</div><div class="line">            this.setupFigure();</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line">var STRATEGY = &#123;</div><div class="line">    SCATTER_RADIUS :150,</div><div class="line">    CONE_ASPECT_RATIO : 1.5,</div><div class="line">    RING_COUNT : 5,</div><div class="line">     </div><div class="line">    getStrategies : function()&#123;</div><div class="line">        var strategies = [];</div><div class="line">         </div><div class="line">        for(var i in this)&#123;</div><div class="line">            if(this[i] == arguments.callee || typeof this[i] != &apos;function&apos;)&#123;</div><div class="line">                continue;</div><div class="line">            &#125;</div><div class="line">            strategies.push(this[i].bind(this));</div><div class="line">        &#125;</div><div class="line">        return strategies;</div><div class="line">    &#125;,</div><div class="line">    createSphere : function()&#123;</div><div class="line">        var cosTheta = Math.random() * 2 - 1,</div><div class="line">            sinTheta = Math.sqrt(1 - cosTheta * cosTheta),</div><div class="line">            phi = Math.random() * 2 * Math.PI;</div><div class="line">             </div><div class="line">        return &#123;</div><div class="line">            x : this.SCATTER_RADIUS * sinTheta * Math.cos(phi),</div><div class="line">            y : this.SCATTER_RADIUS * sinTheta * Math.sin(phi),</div><div class="line">            z : this.SCATTER_RADIUS * cosTheta,</div><div class="line">            hue : Math.round(phi / Math.PI * 30)</div><div class="line">        &#125;;</div><div class="line">    &#125;,</div><div class="line">    createTorus : function()&#123;</div><div class="line">        var theta = Math.random() * Math.PI * 2,</div><div class="line">            x = this.SCATTER_RADIUS + this.SCATTER_RADIUS / 6 * Math.cos(theta),</div><div class="line">            y = this.SCATTER_RADIUS / 6 * Math.sin(theta),</div><div class="line">            phi = Math.random() * Math.PI * 2;</div><div class="line">         </div><div class="line">        return &#123;</div><div class="line">            x : x * Math.cos(phi),</div><div class="line">            y : y,</div><div class="line">            z : x * Math.sin(phi),</div><div class="line">            hue : Math.round(phi / Math.PI * 30)</div><div class="line">        &#125;;</div><div class="line">    &#125;,</div><div class="line">    createCone : function()&#123;</div><div class="line">        var status = Math.random() &gt; 1 / 3,</div><div class="line">            x,</div><div class="line">            y,</div><div class="line">            phi = Math.random() * Math.PI * 2,</div><div class="line">            rate = Math.tan(30 / 180 * Math.PI) / this.CONE_ASPECT_RATIO;</div><div class="line">         </div><div class="line">        if(status)&#123;</div><div class="line">            y = this.SCATTER_RADIUS * (1 - Math.random() * 2);</div><div class="line">            x = (this.SCATTER_RADIUS - y) * rate;</div><div class="line">        &#125;else&#123;</div><div class="line">            y = -this.SCATTER_RADIUS;</div><div class="line">            x = this.SCATTER_RADIUS * 2 * rate * Math.random();</div><div class="line">        &#125;</div><div class="line">        return &#123;</div><div class="line">            x : x * Math.cos(phi),</div><div class="line">            y : y,</div><div class="line">            z : x * Math.sin(phi),</div><div class="line">            hue : Math.round(phi / Math.PI * 30)</div><div class="line">        &#125;;</div><div class="line">    &#125;,</div><div class="line">    createVase : function()&#123;</div><div class="line">        var theta = Math.random() * Math.PI,</div><div class="line">            x = Math.abs(this.SCATTER_RADIUS * Math.cos(theta) / 2) + this.SCATTER_RADIUS / 8,</div><div class="line">            y = this.SCATTER_RADIUS * Math.cos(theta) * 1.2,</div><div class="line">            phi = Math.random() * Math.PI * 2;</div><div class="line">         </div><div class="line">        return &#123;</div><div class="line">            x : x * Math.cos(phi),</div><div class="line">            y : y,</div><div class="line">            z : x * Math.sin(phi),</div><div class="line">            hue : Math.round(phi / Math.PI * 30)</div><div class="line">        &#125;;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line">var PARTICLE = function(center)&#123;</div><div class="line">    this.center = center;</div><div class="line">    this.init();</div><div class="line">&#125;;</div><div class="line">PARTICLE.prototype = &#123;</div><div class="line">    SPRING : 0.01,</div><div class="line">    FRICTION : 0.9,</div><div class="line">    FOCUS_POSITION : 300,</div><div class="line">    COLOR : &apos;hsl(%hue, 100%, 70%)&apos;,</div><div class="line">     </div><div class="line">    init : function()&#123;</div><div class="line">        this.x = 0;</div><div class="line">        this.y = 0;</div><div class="line">        this.z = 0;</div><div class="line">        this.vx = 0;</div><div class="line">        this.vy = 0;</div><div class="line">        this.vz = 0;</div><div class="line">        this.color;</div><div class="line">    &#125;,</div><div class="line">    setAxis : function(axis)&#123;</div><div class="line">        this.translating = true;</div><div class="line">        this.nextX = axis.x;</div><div class="line">        this.nextY = axis.y;</div><div class="line">        this.nextZ = axis.z;</div><div class="line">        this.hue = axis.hue;</div><div class="line">    &#125;,</div><div class="line">    rotateX : function(angle)&#123;</div><div class="line">        var sin = Math.sin(angle),</div><div class="line">            cos = Math.cos(angle),</div><div class="line">            nextY = this.nextY * cos - this.nextZ * sin,</div><div class="line">            nextZ = this.nextZ * cos + this.nextY * sin,</div><div class="line">            y = this.y * cos - this.z * sin,</div><div class="line">            z = this.z * cos + this.y * sin;</div><div class="line">             </div><div class="line">        this.nextY = nextY;</div><div class="line">        this.nextZ = nextZ;</div><div class="line">        this.y = y;</div><div class="line">        this.z = z;</div><div class="line">    &#125;,</div><div class="line">    rotateY : function(angle)&#123;</div><div class="line">        var sin = Math.sin(angle),</div><div class="line">            cos = Math.cos(angle),</div><div class="line">            nextX = this.nextX * cos - this.nextZ * sin,</div><div class="line">            nextZ = this.nextZ * cos + this.nextX * sin,</div><div class="line">            x = this.x * cos - this.z * sin,</div><div class="line">            z = this.z * cos + this.x * sin;</div><div class="line">             </div><div class="line">        this.nextX = nextX;</div><div class="line">        this.nextZ = nextZ;</div><div class="line">        this.x = x;</div><div class="line">        this.z = z;</div><div class="line">    &#125;,</div><div class="line">    rotateZ : function(angle)&#123;</div><div class="line">        var sin = Math.sin(angle),</div><div class="line">            cos = Math.cos(angle),</div><div class="line">            nextX = this.nextX * cos - this.nextY * sin,</div><div class="line">            nextY = this.nextY * cos + this.nextX * sin,</div><div class="line">            x = this.x * cos - this.y * sin,</div><div class="line">            y = this.y * cos + this.x * sin;</div><div class="line">             </div><div class="line">        this.nextX = nextX;</div><div class="line">        this.nextY = nextY;</div><div class="line">        this.x = x;</div><div class="line">        this.y = y;</div><div class="line">    &#125;,</div><div class="line">    getAxis3D : function()&#123;</div><div class="line">        this.vx += (this.nextX - this.x) * this.SPRING;</div><div class="line">        this.vy += (this.nextY - this.y) * this.SPRING;</div><div class="line">        this.vz += (this.nextZ - this.z) * this.SPRING;</div><div class="line">         </div><div class="line">        this.vx *= this.FRICTION;</div><div class="line">        this.vy *= this.FRICTION;</div><div class="line">        this.vz *= this.FRICTION;</div><div class="line">         </div><div class="line">        this.x += this.vx;</div><div class="line">        this.y += this.vy;</div><div class="line">        this.z += this.vz;</div><div class="line">         </div><div class="line">        return &#123;x : this.x, y : this.y, z : this.z&#125;;</div><div class="line">    &#125;,</div><div class="line">    getAxis2D : function(theta)&#123;</div><div class="line">        var axis = this.getAxis3D(),</div><div class="line">            scale = this.FOCUS_POSITION / (this.FOCUS_POSITION + axis.z);</div><div class="line">             </div><div class="line">        return &#123;x : this.center.x + axis.x * scale, y : this.center.y - axis.y * scale, color : this.COLOR.replace(&apos;%hue&apos;, this.hue + theta)&#125;;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line">$(function()&#123;</div><div class="line">    RENDERER.init(STRATEGY);</div><div class="line">&#125;);&lt;/script&gt;</div><div class="line"> &lt;/head&gt;</div><div class="line"> &lt;body&gt;</div><div class="line">  &lt;div id=&quot;jsi-particle-container&quot; class=&quot;container&quot;&gt;&lt;/div&gt;</div><div class="line"> &lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<p><img src="http://oohubzl9h.bkt.clouddn.com/%E7%B2%92%E5%AD%90.PNG" alt="粒子"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div><div class="line">221</div><div class="line">222</div><div class="line">223</div><div class="line">224</div><div class="line">225</div><div class="line">226</div><div class="line">227</div><div class="line">228</div><div class="line">229</div><div class="line">230</div><div class="line">231</div><div class="line">232</div><div class="line">233</div><div class="line">234</div><div class="line">235</div><div class="line">236</div><div class="line">237</div><div class="line">238</div><div class="line">239</div><div class="line">240</div><div class="line">241</div><div class="line">242</div><div class="line">243</div><div class="line">244</div><div class="line">245</div><div class="line">246</div><div class="line">247</div><div class="line">248</div><div class="line">249</div><div class="line">250</div><div class="line">251</div><div class="line">252</div><div class="line">253</div><div class="line">254</div><div class="line">255</div><div class="line">256</div><div class="line">257</div><div class="line">258</div><div class="line">259</div><div class="line">260</div><div class="line">261</div><div class="line">262</div><div class="line">263</div><div class="line">264</div><div class="line">265</div><div class="line">266</div><div class="line">267</div><div class="line">268</div><div class="line">269</div><div class="line">270</div><div class="line">271</div><div class="line">272</div><div class="line">273</div><div class="line">274</div><div class="line">275</div><div class="line">276</div><div class="line">277</div><div class="line">278</div><div class="line">279</div><div class="line">280</div><div class="line">281</div><div class="line">282</div><div class="line">283</div><div class="line">284</div><div class="line">285</div><div class="line">286</div><div class="line">287</div><div class="line">288</div><div class="line">289</div><div class="line">290</div><div class="line">291</div><div class="line">292</div><div class="line">293</div><div class="line">294</div><div class="line">295</div><div class="line">296</div><div class="line">297</div><div class="line">298</div><div class="line">299</div><div class="line">300</div><div class="line">301</div><div class="line">302</div><div class="line">303</div><div class="line">304</div><div class="line">305</div><div class="line">306</div><div class="line">307</div><div class="line">308</div><div class="line">309</div><div class="line">310</div><div class="line">311</div><div class="line">312</div><div class="line">313</div><div class="line">314</div><div class="line">315</div><div class="line">316</div><div class="line">317</div><div class="line">318</div><div class="line">319</div><div class="line">320</div><div class="line">321</div><div class="line">322</div><div class="line">323</div><div class="line">324</div><div class="line">325</div><div class="line">326</div><div class="line">327</div><div class="line">328</div><div class="line">329</div><div class="line">330</div><div class="line">331</div><div class="line">332</div><div class="line">333</div><div class="line">334</div><div class="line">335</div><div class="line">336</div><div class="line">337</div><div class="line">338</div><div class="line">339</div><div class="line">340</div><div class="line">341</div><div class="line">342</div><div class="line">343</div><div class="line">344</div><div class="line">345</div><div class="line">346</div><div class="line">347</div><div class="line">348</div><div class="line">349</div><div class="line">350</div><div class="line">351</div><div class="line">352</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">&lt;!doctype html&gt;</div><div class="line">&lt;html lang=&quot;en&quot;&gt;</div><div class="line"> &lt;head&gt;</div><div class="line">  &lt;meta charset=&quot;UTF-8&quot;&gt;</div><div class="line">  &lt;meta name=&quot;Generator&quot; content=&quot;EditPlus®&quot;&gt;</div><div class="line">  &lt;meta name=&quot;Author&quot; content=&quot;&quot;&gt;</div><div class="line">  &lt;meta name=&quot;Keywords&quot; content=&quot;&quot;&gt;</div><div class="line">  &lt;meta name=&quot;Description&quot; content=&quot;&quot;&gt;</div><div class="line">  &lt;title&gt;Document&lt;/title&gt;</div><div class="line">  &lt;style&gt;</div><div class="line">  body &#123; font-size:62.5%; margin:1em; background:#232425 &#125;</div><div class="line">ul &#123; list-style:none; margin:0; padding:0 &#125;</div><div class="line">#watch &#123; font-size:1em; position:relative &#125;</div><div class="line">#watch .frame-face &#123;</div><div class="line">  position:relative;</div><div class="line">  width:30em;</div><div class="line">  height:30em;</div><div class="line">  margin:2em auto;</div><div class="line">  border-radius:15em;</div><div class="line">  background:-webkit-linear-gradient(top, #f9f9f9,#666);</div><div class="line">  background:-moz-linear-gradient(top, #f9f9f9,#666);</div><div class="line">  background:linear-gradient(to bottom, #f9f9f9,#666);</div><div class="line">  box-shadow:rgba(0,0,0,.8) .5em .5em 4em;</div><div class="line">&#125;</div><div class="line">#watch .frame-face:before &#123;</div><div class="line">  content:&apos;&apos;;</div><div class="line">  width:29.4em;</div><div class="line">  height:29.4em;</div><div class="line">  border-radius:14.7em;</div><div class="line">  position:absolute;</div><div class="line">  top:.3em; left:.3em;</div><div class="line">  background:</div><div class="line">    -webkit-linear-gradient(135deg, rgba(246,248,249,0) 0%,rgba(229,235,238,1) 50%,rgba(205,212,217,1) 51%,rgba(245,247,249,0) 100%),</div><div class="line">    -webkit-radial-gradient(center, ellipse cover, rgba(246,248,249,1) 0%,rgba(229,235,238,1) 65%,rgba(205,212,217,1) 66%,rgba(245,247,249,1) 100%);</div><div class="line">  background:</div><div class="line">    -moz-linear-gradient(135deg, rgba(246,248,249,0) 0%,rgba(229,235,238,1) 50%,rgba(205,212,217,1) 51%,rgba(245,247,249,0) 100%),</div><div class="line">    -moz-radial-gradient(center, ellipse cover, rgba(246,248,249,1) 0%,rgba(229,235,238,1) 65%,rgba(205,212,217,1) 66%,rgba(245,247,249,1) 100%);</div><div class="line">  background:</div><div class="line">    linear-gradient(135deg, rgba(246,248,249,0) 0%,rgba(229,235,238,1) 50%,rgba(205,212,217,1) 51%,rgba(245,247,249,0) 100%),</div><div class="line">    radial-gradient(ellipse at center, rgba(246,248,249,1) 0%,rgba(229,235,238,1) 65%,rgba(205,212,217,1) 66%,rgba(245,247,249,1) 100%);</div><div class="line">&#125;</div><div class="line">#watch .frame-face:after &#123;</div><div class="line">  content:&apos;&apos;;</div><div class="line">  width:28em;</div><div class="line">  height:28em;</div><div class="line">  border-radius:14.2em;</div><div class="line">  position:absolute;</div><div class="line">  top:.9em; left:.9em;</div><div class="line">  box-shadow:inset rgba(0,0,0,.2) .2em .2em 1em;</div><div class="line">  border:.1em solid rgba(0,0,0,.2);</div><div class="line">  background:-webkit-linear-gradient(top, #fff, #ccc);</div><div class="line">  background:-moz-linear-gradient(top, #fff, #ccc);</div><div class="line">  background:linear-gradient(to bottom, #fff, #ccc);</div><div class="line">&#125;</div><div class="line">#watch .minute-marks li &#123;</div><div class="line">  display:block;</div><div class="line">  width:.2em;</div><div class="line">  height:.6em;</div><div class="line">  background:#929394;</div><div class="line">  position:absolute;</div><div class="line">  top:50%; left:50%;</div><div class="line">  margin:-.4em 0 0 -.1em;</div><div class="line">&#125;</div><div class="line">#watch .minute-marks li:first-child &#123;transform:rotate(6deg) translateY(-12.7em)&#125;</div><div class="line">#watch .minute-marks li:nth-child(2) &#123;transform:rotate(12deg) translateY(-12.7em)&#125;</div><div class="line">#watch .minute-marks li:nth-child(3) &#123;transform:rotate(18deg) translateY(-12.7em)&#125;</div><div class="line">#watch .minute-marks li:nth-child(4) &#123;transform:rotate(24deg) translateY(-12.7em)&#125;</div><div class="line">#watch .minute-marks li:nth-child(5) &#123;transform:rotate(36deg) translateY(-12.7em)&#125;</div><div class="line">#watch .minute-marks li:nth-child(6) &#123;transform:rotate(42deg) translateY(-12.7em)&#125;</div><div class="line">#watch .minute-marks li:nth-child(7) &#123;transform:rotate(48deg) translateY(-12.7em)&#125;</div><div class="line">#watch .minute-marks li:nth-child(8) &#123;transform:rotate(54deg) translateY(-12.7em)&#125;</div><div class="line">#watch .minute-marks li:nth-child(9) &#123;transform:rotate(66deg) translateY(-12.7em)&#125;</div><div class="line">#watch .minute-marks li:nth-child(10) &#123;transform:rotate(72deg) translateY(-12.7em)&#125;</div><div class="line">#watch .minute-marks li:nth-child(11) &#123;transform:rotate(78deg) translateY(-12.7em)&#125;</div><div class="line">#watch .minute-marks li:nth-child(12) &#123;transform:rotate(84deg) translateY(-12.7em)&#125;</div><div class="line">#watch .minute-marks li:nth-child(13) &#123;transform:rotate(96deg) translateY(-12.7em)&#125;</div><div class="line">#watch .minute-marks li:nth-child(14) &#123;transform:rotate(102deg) translateY(-12.7em)&#125;</div><div class="line">#watch .minute-marks li:nth-child(15) &#123;transform:rotate(108deg) translateY(-12.7em)&#125;</div><div class="line">#watch .minute-marks li:nth-child(16) &#123;transform:rotate(114deg) translateY(-12.7em)&#125;</div><div class="line">#watch .minute-marks li:nth-child(17) &#123;transform:rotate(126deg) translateY(-12.7em)&#125;</div><div class="line">#watch .minute-marks li:nth-child(18) &#123;transform:rotate(132deg) translateY(-12.7em)&#125;</div><div class="line">#watch .minute-marks li:nth-child(19) &#123;transform:rotate(138deg) translateY(-12.7em)&#125;</div><div class="line">#watch .minute-marks li:nth-child(20) &#123;transform:rotate(144deg) translateY(-12.7em)&#125;</div><div class="line">#watch .minute-marks li:nth-child(21) &#123;transform:rotate(156deg) translateY(-12.7em)&#125;</div><div class="line">#watch .minute-marks li:nth-child(22) &#123;transform:rotate(162deg) translateY(-12.7em)&#125;</div><div class="line">#watch .minute-marks li:nth-child(23) &#123;transform:rotate(168deg) translateY(-12.7em)&#125;</div><div class="line">#watch .minute-marks li:nth-child(24) &#123;transform:rotate(174deg) translateY(-12.7em)&#125;</div><div class="line">#watch .minute-marks li:nth-child(25) &#123;transform:rotate(186deg) translateY(-12.7em)&#125;</div><div class="line">#watch .minute-marks li:nth-child(26) &#123;transform:rotate(192deg) translateY(-12.7em)&#125;</div><div class="line">#watch .minute-marks li:nth-child(27) &#123;transform:rotate(198deg) translateY(-12.7em)&#125;</div><div class="line">#watch .minute-marks li:nth-child(28) &#123;transform:rotate(204deg) translateY(-12.7em)&#125;</div><div class="line">#watch .minute-marks li:nth-child(29) &#123;transform:rotate(216deg) translateY(-12.7em)&#125;</div><div class="line">#watch .minute-marks li:nth-child(30) &#123;transform:rotate(222deg) translateY(-12.7em)&#125;</div><div class="line">#watch .minute-marks li:nth-child(31) &#123;transform:rotate(228deg) translateY(-12.7em)&#125;</div><div class="line">#watch .minute-marks li:nth-child(32) &#123;transform:rotate(234deg) translateY(-12.7em)&#125;</div><div class="line">#watch .minute-marks li:nth-child(33) &#123;transform:rotate(246deg) translateY(-12.7em)&#125;</div><div class="line">#watch .minute-marks li:nth-child(34) &#123;transform:rotate(252deg) translateY(-12.7em)&#125;</div><div class="line">#watch .minute-marks li:nth-child(35) &#123;transform:rotate(258deg) translateY(-12.7em)&#125;</div><div class="line">#watch .minute-marks li:nth-child(36) &#123;transform:rotate(264deg) translateY(-12.7em)&#125;</div><div class="line">#watch .minute-marks li:nth-child(37) &#123;transform:rotate(276deg) translateY(-12.7em)&#125;</div><div class="line">#watch .minute-marks li:nth-child(38) &#123;transform:rotate(282deg) translateY(-12.7em)&#125;</div><div class="line">#watch .minute-marks li:nth-child(39) &#123;transform:rotate(288deg) translateY(-12.7em)&#125;</div><div class="line">#watch .minute-marks li:nth-child(40) &#123;transform:rotate(294deg) translateY(-12.7em)&#125;</div><div class="line">#watch .minute-marks li:nth-child(41) &#123;transform:rotate(306deg) translateY(-12.7em)&#125;</div><div class="line">#watch .minute-marks li:nth-child(42) &#123;transform:rotate(312deg) translateY(-12.7em)&#125;</div><div class="line">#watch .minute-marks li:nth-child(43) &#123;transform:rotate(318deg) translateY(-12.7em)&#125;</div><div class="line">#watch .minute-marks li:nth-child(44) &#123;transform:rotate(324deg) translateY(-12.7em)&#125;</div><div class="line">#watch .minute-marks li:nth-child(45) &#123;transform:rotate(336deg) translateY(-12.7em)&#125;</div><div class="line">#watch .minute-marks li:nth-child(46) &#123;transform:rotate(342deg) translateY(-12.7em)&#125;</div><div class="line">#watch .minute-marks li:nth-child(47) &#123;transform:rotate(348deg) translateY(-12.7em)&#125;</div><div class="line">#watch .minute-marks li:nth-child(48) &#123;transform:rotate(354deg) translateY(-12.7em)&#125;</div><div class="line">#watch .digits &#123;</div><div class="line">  width:30em;</div><div class="line">  height:30em;</div><div class="line">  border-radius:15em;</div><div class="line">  position:absolute;</div><div class="line">  top:0; left:50%;</div><div class="line">  margin-left:-15em;</div><div class="line">&#125;</div><div class="line">#watch .digits li &#123;</div><div class="line">  font-size:1.6em;</div><div class="line">  display:block;</div><div class="line">  width:1.6em;</div><div class="line">  height:1.6em;</div><div class="line">  position:absolute;</div><div class="line">  top:50%; left:50%;</div><div class="line">  line-height:1.6em;</div><div class="line">  text-align:center;</div><div class="line">  margin:-.8em 0 0 -.8em;</div><div class="line">  font-weight:bold;</div><div class="line">&#125;</div><div class="line">#watch .digits li:nth-child(1) &#123; transform:translate(3.9em, -6.9em) &#125;</div><div class="line">#watch .digits li:nth-child(2) &#123; transform:translate(6.9em, -4em) &#125;</div><div class="line">#watch .digits li:nth-child(3) &#123; transform:translate(8em, 0) &#125;</div><div class="line">#watch .digits li:nth-child(4) &#123; transform:translate(6.8em, 4em) &#125;</div><div class="line">#watch .digits li:nth-child(5) &#123; transform:translate(3.9em, 6.9em) &#125;</div><div class="line">#watch .digits li:nth-child(6) &#123; transform:translate(0, 8em) &#125;</div><div class="line">#watch .digits li:nth-child(7) &#123; transform:translate(-3.9em, 6.9em) &#125;</div><div class="line">#watch .digits li:nth-child(8) &#123; transform:translate(-6.8em, 4em) &#125;</div><div class="line">#watch .digits li:nth-child(9) &#123; transform:translate(-8em, 0) &#125;</div><div class="line">#watch .digits li:nth-child(10) &#123; transform:translate(-6.9em, -4em) &#125;</div><div class="line">#watch .digits li:nth-child(11) &#123; transform:translate(-3.9em, -6.9em) &#125;</div><div class="line">#watch .digits li:nth-child(12) &#123; transform:translate(0, -8em) &#125;</div><div class="line">#watch .digits:before &#123;</div><div class="line">  content:&apos;&apos;;</div><div class="line">  width:1.6em;</div><div class="line">  height:1.6em;</div><div class="line">  border-radius:.8em;</div><div class="line">  position:absolute;</div><div class="line">  top:50%; left:50%;</div><div class="line">  margin:-.8em 0 0 -.8em;</div><div class="line">  background:#121314;</div><div class="line">&#125;</div><div class="line">#watch .digits:after &#123;</div><div class="line">  content:&apos;&apos;;</div><div class="line">  width:4em;</div><div class="line">  height:4em;</div><div class="line">  border-radius:2.2em;</div><div class="line">  position:absolute;</div><div class="line">  top:50%; left:50%;</div><div class="line">  margin:-2.1em 0 0 -2.1em;</div><div class="line">  border:.1em solid #c6c6c6;</div><div class="line">  background:-webkit-radial-gradient(center, ellipse cover, rgba(200,200,200,0), rgba(190,190,190,1) 90%, rgba(130,130,130,1) 100%);</div><div class="line">  background:-moz-radial-gradient(center, ellipse cover, rgba(200,200,200,0), rgba(190,190,190,1) 90%, rgba(130,130,130,1) 100%);</div><div class="line">  background:radial-gradient(ellipse at center, rgba(200,200,200,0), rgba(190,190,190,1) 90%, rgba(130,130,130,1) 100%);</div><div class="line">&#125;</div><div class="line">@keyframes hours &#123; to &#123;transform:rotate(335deg)&#125; &#125;</div><div class="line">#watch .hours-hand &#123;</div><div class="line">  width:.8em;</div><div class="line">  height:7em;</div><div class="line">  border-radius:0 0 .9em .9em;</div><div class="line">  background:#232425;</div><div class="line">  position:absolute;</div><div class="line">  bottom:50%; left:50%;</div><div class="line">  margin:0 0 -.8em -.4em;</div><div class="line">  box-shadow:#232425 0 0 2px;</div><div class="line">  transform-origin:0.4em 6.2em;</div><div class="line">  transform:rotate(-25deg);</div><div class="line">  animation:hours 43200s linear 0s infinite;</div><div class="line">&#125;</div><div class="line">#watch .hours-hand:before &#123;</div><div class="line">  content:&apos;&apos;;</div><div class="line">  background:inherit;</div><div class="line">  width:1.8em;</div><div class="line">  height:.8em;</div><div class="line">  border-radius:0 0 .8em .8em;</div><div class="line">  box-shadow:#232425 0 0 1px;</div><div class="line">  position:absolute;</div><div class="line">  top:-.7em; left:-.5em;</div><div class="line">&#125;</div><div class="line">#watch .hours-hand:after &#123;</div><div class="line">  content:&apos;&apos;;</div><div class="line">  width:0; height:0;</div><div class="line">  border:.9em solid #232425;</div><div class="line">  border-width:0 .9em 2.4em .9em;</div><div class="line">  border-left-color:transparent;</div><div class="line">  border-right-color:transparent;</div><div class="line">  position:absolute;</div><div class="line">  top:-3.1em; left:-.5em;</div><div class="line">&#125;</div><div class="line">@keyframes minutes &#123; to &#123;transform:rotate(422deg)&#125; &#125;</div><div class="line">#watch .minutes-hand &#123;</div><div class="line">  width:.8em;</div><div class="line">  height:12.5em;</div><div class="line">  border-radius:.5em;</div><div class="line">  background:#343536;</div><div class="line">  position:absolute;</div><div class="line">  bottom:50%; left:50%;</div><div class="line">  margin:0 0 -1.5em -.4em;</div><div class="line">  box-shadow:#343536 0 0 2px;</div><div class="line">  transform-origin:0.4em 11em;</div><div class="line">  transform:rotate(62deg);</div><div class="line">  animation:minutes 3600s linear 0s infinite;</div><div class="line">&#125;</div><div class="line">@keyframes seconds &#123; to &#123;transform:rotate(480deg)&#125; &#125;</div><div class="line">#watch .seconds-hand &#123;</div><div class="line">  width:.2em;</div><div class="line">  height:14em;</div><div class="line">  border-radius:.1em .1em 0 0/10em 10em 0 0;</div><div class="line">  background:#c00;</div><div class="line">  position:absolute;</div><div class="line">  bottom:50%; left:50%;</div><div class="line">  margin:0 0 -2em -.1em;</div><div class="line">  box-shadow:rgba(0,0,0,.8) 0 0 .2em;</div><div class="line">  transform-origin:0.1em 12em;</div><div class="line">  transform:rotate(120deg);</div><div class="line">  animation:seconds 60s steps(60, end) 0s infinite;</div><div class="line">&#125;</div><div class="line">#watch .seconds-hand:after &#123;</div><div class="line">  content:&apos;&apos;;</div><div class="line">  width:1.4em;</div><div class="line">  height:1.4em;</div><div class="line">  border-radius:.7em;</div><div class="line">  background:inherit;</div><div class="line">  position:absolute;</div><div class="line">  left:-.65em; bottom:1.35em;</div><div class="line">&#125;</div><div class="line">#watch .seconds-hand:before &#123;</div><div class="line">  content:&apos;&apos;;</div><div class="line">  width:.8em;</div><div class="line">  height:3em;</div><div class="line">  border-radius:.2em .2em .4em .4em/.2em .2em 2em 2em;</div><div class="line">  box-shadow:rgba(0,0,0,.8) 0 0 .2em;</div><div class="line">  background:inherit;</div><div class="line">  position:absolute;</div><div class="line">  left:-.35em; bottom:-3em;</div><div class="line">&#125;</div><div class="line">#watch .digital-wrap &#123;</div><div class="line">  width:9em;</div><div class="line">  height:3em;</div><div class="line">  border:.1em solid #222;</div><div class="line">  border-radius:.2em;</div><div class="line">  position:absolute;</div><div class="line">  top:50%; left:50%;</div><div class="line">  margin:3em 0 0 -4.5em;</div><div class="line">  overflow:hidden;</div><div class="line">  background:#4c4c4c;</div><div class="line">  background:-webkit-linear-gradient(top, #4c4c4c 0%,#0f0f0f 100%);</div><div class="line">  background:-moz-linear-gradient(top, #4c4c4c 0%, #0f0f0f 100%);</div><div class="line">  background:-ms-linear-gradient(top, #4c4c4c 0%,#0f0f0f 100%);</div><div class="line">  background:-o-linear-gradient(top, #4c4c4c 0%,#0f0f0f 100%);</div><div class="line">  background:linear-gradient(to bottom, #4c4c4c 0%,#0f0f0f 100%);</div><div class="line">&#125;</div><div class="line">#watch .digital-wrap ul &#123;</div><div class="line">  float:left;</div><div class="line">  width:2.85em;</div><div class="line">  height:3em;</div><div class="line">  border-right:.1em solid #000;</div><div class="line">  color:#ddd;</div><div class="line">  font-family:Consolas, monaco, monospace;</div><div class="line">&#125;</div><div class="line">#watch .digital-wrap ul:last-child &#123; border:none &#125;</div><div class="line">#watch .digital-wrap li &#123;</div><div class="line">  font-size:1.5em;</div><div class="line">  line-height:2;</div><div class="line">  letter-spacing:2px;</div><div class="line">  text-align:center;</div><div class="line">  position:relative;</div><div class="line">  left:1px;</div><div class="line">&#125;</div><div class="line">#watch .digit-minutes li &#123;</div><div class="line">  animation:dsm 3600s steps(60, end) 0s infinite;</div><div class="line">&#125;</div><div class="line">#watch .digit-seconds li &#123;</div><div class="line">  animation:dsm 60s steps(60, end) 0s infinite;</div><div class="line">&#125;</div><div class="line">@keyframes dsm &#123;</div><div class="line">  to &#123; transform:translateY(-120em) &#125;</div><div class="line">&#125;</div><div class="line">  &lt;/style&gt;</div><div class="line"> &lt;/head&gt;</div><div class="line"> &lt;body&gt;</div><div class="line"> &lt;div id=&quot;watch&quot;&gt;</div><div class="line">  &lt;div class=&quot;frame-face&quot;&gt;&lt;/div&gt;</div><div class="line">  &lt;ul class=&quot;minute-marks&quot;&gt;</div><div class="line">    &lt;li&gt;&lt;/li&gt;&lt;li&gt;&lt;/li&gt;&lt;li&gt;&lt;/li&gt;&lt;li&gt;&lt;/li&gt;&lt;li&gt;&lt;/li&gt;&lt;li&gt;&lt;/li&gt;</div><div class="line">    &lt;li&gt;&lt;/li&gt;&lt;li&gt;&lt;/li&gt;&lt;li&gt;&lt;/li&gt;&lt;li&gt;&lt;/li&gt;&lt;li&gt;&lt;/li&gt;&lt;li&gt;&lt;/li&gt;</div><div class="line">    &lt;li&gt;&lt;/li&gt;&lt;li&gt;&lt;/li&gt;&lt;li&gt;&lt;/li&gt;&lt;li&gt;&lt;/li&gt;&lt;li&gt;&lt;/li&gt;&lt;li&gt;&lt;/li&gt;</div><div class="line">    &lt;li&gt;&lt;/li&gt;&lt;li&gt;&lt;/li&gt;&lt;li&gt;&lt;/li&gt;&lt;li&gt;&lt;/li&gt;&lt;li&gt;&lt;/li&gt;&lt;li&gt;&lt;/li&gt;</div><div class="line">    &lt;li&gt;&lt;/li&gt;&lt;li&gt;&lt;/li&gt;&lt;li&gt;&lt;/li&gt;&lt;li&gt;&lt;/li&gt;&lt;li&gt;&lt;/li&gt;&lt;li&gt;&lt;/li&gt;</div><div class="line">    &lt;li&gt;&lt;/li&gt;&lt;li&gt;&lt;/li&gt;&lt;li&gt;&lt;/li&gt;&lt;li&gt;&lt;/li&gt;&lt;li&gt;&lt;/li&gt;&lt;li&gt;&lt;/li&gt;</div><div class="line">    &lt;li&gt;&lt;/li&gt;&lt;li&gt;&lt;/li&gt;&lt;li&gt;&lt;/li&gt;&lt;li&gt;&lt;/li&gt;&lt;li&gt;&lt;/li&gt;&lt;li&gt;&lt;/li&gt;</div><div class="line">    &lt;li&gt;&lt;/li&gt;&lt;li&gt;&lt;/li&gt;&lt;li&gt;&lt;/li&gt;&lt;li&gt;&lt;/li&gt;&lt;li&gt;&lt;/li&gt;&lt;li&gt;&lt;/li&gt;</div><div class="line">  &lt;/ul&gt;</div><div class="line">  &lt;div class=&quot;digital-wrap&quot;&gt;</div><div class="line">    &lt;ul class=&quot;digit-hours&quot;&gt;</div><div class="line">      &lt;li&gt;23&lt;/li&gt;</div><div class="line">      &lt;li&gt;00&lt;/li&gt;&lt;li&gt;01&lt;/li&gt;&lt;li&gt;02&lt;/li&gt;&lt;li&gt;03&lt;/li&gt;&lt;li&gt;04&lt;/li&gt;&lt;li&gt;05&lt;/li&gt;</div><div class="line">      &lt;li&gt;06&lt;/li&gt;&lt;li&gt;07&lt;/li&gt;&lt;li&gt;08&lt;/li&gt;&lt;li&gt;09&lt;/li&gt;&lt;li&gt;10&lt;/li&gt;&lt;li&gt;11&lt;/li&gt;</div><div class="line">      &lt;li&gt;12&lt;/li&gt;&lt;li&gt;13&lt;/li&gt;&lt;li&gt;14&lt;/li&gt;&lt;li&gt;15&lt;/li&gt;&lt;li&gt;16&lt;/li&gt;&lt;li&gt;17&lt;/li&gt;</div><div class="line">      &lt;li&gt;18&lt;/li&gt;&lt;li&gt;19&lt;/li&gt;&lt;li&gt;20&lt;/li&gt;&lt;li&gt;21&lt;/li&gt;&lt;li&gt;22&lt;/li&gt;</div><div class="line">    &lt;/ul&gt;</div><div class="line">    &lt;ul class=&quot;digit-minutes&quot;&gt;</div><div class="line">      &lt;li&gt;10&lt;/li&gt;&lt;li&gt;11&lt;/li&gt;</div><div class="line">      &lt;li&gt;12&lt;/li&gt;&lt;li&gt;13&lt;/li&gt;&lt;li&gt;14&lt;/li&gt;&lt;li&gt;15&lt;/li&gt;&lt;li&gt;16&lt;/li&gt;&lt;li&gt;17&lt;/li&gt;</div><div class="line">      &lt;li&gt;18&lt;/li&gt;&lt;li&gt;19&lt;/li&gt;&lt;li&gt;20&lt;/li&gt;&lt;li&gt;21&lt;/li&gt;&lt;li&gt;22&lt;/li&gt;&lt;li&gt;23&lt;/li&gt;</div><div class="line">      &lt;li&gt;24&lt;/li&gt;&lt;li&gt;25&lt;/li&gt;&lt;li&gt;26&lt;/li&gt;&lt;li&gt;27&lt;/li&gt;&lt;li&gt;28&lt;/li&gt;&lt;li&gt;29&lt;/li&gt;</div><div class="line">      &lt;li&gt;30&lt;/li&gt;&lt;li&gt;31&lt;/li&gt;&lt;li&gt;32&lt;/li&gt;&lt;li&gt;33&lt;/li&gt;&lt;li&gt;34&lt;/li&gt;&lt;li&gt;35&lt;/li&gt;</div><div class="line">      &lt;li&gt;36&lt;/li&gt;&lt;li&gt;37&lt;/li&gt;&lt;li&gt;38&lt;/li&gt;&lt;li&gt;39&lt;/li&gt;&lt;li&gt;40&lt;/li&gt;&lt;li&gt;41&lt;/li&gt;</div><div class="line">      &lt;li&gt;42&lt;/li&gt;&lt;li&gt;43&lt;/li&gt;&lt;li&gt;44&lt;/li&gt;&lt;li&gt;45&lt;/li&gt;&lt;li&gt;46&lt;/li&gt;&lt;li&gt;47&lt;/li&gt;</div><div class="line">      &lt;li&gt;48&lt;/li&gt;&lt;li&gt;49&lt;/li&gt;&lt;li&gt;50&lt;/li&gt;&lt;li&gt;51&lt;/li&gt;&lt;li&gt;52&lt;/li&gt;&lt;li&gt;53&lt;/li&gt;</div><div class="line">      &lt;li&gt;54&lt;/li&gt;&lt;li&gt;55&lt;/li&gt;&lt;li&gt;56&lt;/li&gt;&lt;li&gt;57&lt;/li&gt;&lt;li&gt;58&lt;/li&gt;&lt;li&gt;59&lt;/li&gt;</div><div class="line">      &lt;li&gt;00&lt;/li&gt;&lt;li&gt;01&lt;/li&gt;&lt;li&gt;02&lt;/li&gt;&lt;li&gt;03&lt;/li&gt;&lt;li&gt;04&lt;/li&gt;&lt;li&gt;05&lt;/li&gt;</div><div class="line">      &lt;li&gt;06&lt;/li&gt;&lt;li&gt;07&lt;/li&gt;&lt;li&gt;08&lt;/li&gt;&lt;li&gt;09&lt;/li&gt;</div><div class="line">    &lt;/ul&gt;</div><div class="line">    &lt;ul class=&quot;digit-seconds&quot;&gt;</div><div class="line">      &lt;li&gt;20&lt;/li&gt;&lt;li&gt;21&lt;/li&gt;&lt;li&gt;22&lt;/li&gt;&lt;li&gt;23&lt;/li&gt;</div><div class="line">      &lt;li&gt;24&lt;/li&gt;&lt;li&gt;25&lt;/li&gt;&lt;li&gt;26&lt;/li&gt;&lt;li&gt;27&lt;/li&gt;&lt;li&gt;28&lt;/li&gt;&lt;li&gt;29&lt;/li&gt;</div><div class="line">      &lt;li&gt;30&lt;/li&gt;&lt;li&gt;31&lt;/li&gt;&lt;li&gt;32&lt;/li&gt;&lt;li&gt;33&lt;/li&gt;&lt;li&gt;34&lt;/li&gt;&lt;li&gt;35&lt;/li&gt;</div><div class="line">      &lt;li&gt;36&lt;/li&gt;&lt;li&gt;37&lt;/li&gt;&lt;li&gt;38&lt;/li&gt;&lt;li&gt;39&lt;/li&gt;&lt;li&gt;40&lt;/li&gt;&lt;li&gt;41&lt;/li&gt;</div><div class="line">      &lt;li&gt;42&lt;/li&gt;&lt;li&gt;43&lt;/li&gt;&lt;li&gt;44&lt;/li&gt;&lt;li&gt;45&lt;/li&gt;&lt;li&gt;46&lt;/li&gt;&lt;li&gt;47&lt;/li&gt;</div><div class="line">      &lt;li&gt;48&lt;/li&gt;&lt;li&gt;49&lt;/li&gt;&lt;li&gt;50&lt;/li&gt;&lt;li&gt;51&lt;/li&gt;&lt;li&gt;52&lt;/li&gt;&lt;li&gt;53&lt;/li&gt;</div><div class="line">      &lt;li&gt;54&lt;/li&gt;&lt;li&gt;55&lt;/li&gt;&lt;li&gt;56&lt;/li&gt;&lt;li&gt;57&lt;/li&gt;&lt;li&gt;58&lt;/li&gt;&lt;li&gt;59&lt;/li&gt;</div><div class="line">      &lt;li&gt;00&lt;/li&gt;&lt;li&gt;01&lt;/li&gt;&lt;li&gt;02&lt;/li&gt;&lt;li&gt;03&lt;/li&gt;&lt;li&gt;04&lt;/li&gt;&lt;li&gt;05&lt;/li&gt;</div><div class="line">      &lt;li&gt;06&lt;/li&gt;&lt;li&gt;07&lt;/li&gt;&lt;li&gt;08&lt;/li&gt;&lt;li&gt;09&lt;/li&gt;&lt;li&gt;10&lt;/li&gt;&lt;li&gt;11&lt;/li&gt;</div><div class="line">      &lt;li&gt;12&lt;/li&gt;&lt;li&gt;13&lt;/li&gt;&lt;li&gt;14&lt;/li&gt;&lt;li&gt;15&lt;/li&gt;&lt;li&gt;16&lt;/li&gt;&lt;li&gt;17&lt;/li&gt;</div><div class="line">      &lt;li&gt;18&lt;/li&gt;&lt;li&gt;19&lt;/li&gt;</div><div class="line">    &lt;/ul&gt;</div><div class="line">  &lt;/div&gt;</div><div class="line">  &lt;ul class=&quot;digits&quot;&gt;</div><div class="line">    &lt;li&gt;1&lt;/li&gt;&lt;li&gt;2&lt;/li&gt;&lt;li&gt;3&lt;/li&gt;&lt;li&gt;4&lt;/li&gt;&lt;li&gt;5&lt;/li&gt;&lt;li&gt;6&lt;/li&gt;</div><div class="line">    &lt;li&gt;7&lt;/li&gt;&lt;li&gt;8&lt;/li&gt;&lt;li&gt;9&lt;/li&gt;&lt;li&gt;10&lt;/li&gt;&lt;li&gt;11&lt;/li&gt;&lt;li&gt;12&lt;/li&gt;</div><div class="line">  &lt;/ul&gt;</div><div class="line">  &lt;div class=&quot;hours-hand&quot;&gt;&lt;/div&gt;</div><div class="line">  &lt;div class=&quot;minutes-hand&quot;&gt;&lt;/div&gt;</div><div class="line">  &lt;div class=&quot;seconds-hand&quot;&gt;&lt;/div&gt;</div><div class="line">&lt;/div&gt;</div><div class="line">&lt;script&gt;</div><div class="line">&lt;/script&gt;</div><div class="line"> &lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<p><img src="http://oohubzl9h.bkt.clouddn.com/%E5%A7%8B%E7%BB%88.PNG" alt="shizhong"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div><div class="line">221</div><div class="line">222</div><div class="line">223</div><div class="line">224</div><div class="line">225</div><div class="line">226</div><div class="line">227</div><div class="line">228</div><div class="line">229</div><div class="line">230</div><div class="line">231</div><div class="line">232</div><div class="line">233</div><div class="line">234</div><div class="line">235</div><div class="line">236</div><div class="line">237</div><div class="line">238</div><div class="line">239</div><div class="line">240</div><div class="line">241</div><div class="line">242</div><div class="line">243</div><div class="line">244</div><div class="line">245</div><div class="line">246</div><div class="line">247</div><div class="line">248</div><div class="line">249</div><div class="line">250</div><div class="line">251</div><div class="line">252</div><div class="line">253</div><div class="line">254</div><div class="line">255</div><div class="line">256</div><div class="line">257</div><div class="line">258</div><div class="line">259</div><div class="line">260</div><div class="line">261</div><div class="line">262</div><div class="line">263</div><div class="line">264</div><div class="line">265</div><div class="line">266</div><div class="line">267</div><div class="line">268</div><div class="line">269</div><div class="line">270</div><div class="line">271</div><div class="line">272</div><div class="line">273</div><div class="line">274</div><div class="line">275</div><div class="line">276</div><div class="line">277</div><div class="line">278</div><div class="line">279</div><div class="line">280</div><div class="line">281</div><div class="line">282</div><div class="line">283</div><div class="line">284</div><div class="line">285</div><div class="line">286</div><div class="line">287</div><div class="line">288</div><div class="line">289</div><div class="line">290</div><div class="line">291</div><div class="line">292</div><div class="line">293</div><div class="line">294</div><div class="line">295</div><div class="line">296</div><div class="line">297</div><div class="line">298</div><div class="line">299</div><div class="line">300</div><div class="line">301</div><div class="line">302</div><div class="line">303</div><div class="line">304</div><div class="line">305</div><div class="line">306</div><div class="line">307</div><div class="line">308</div><div class="line">309</div><div class="line">310</div><div class="line">311</div><div class="line">312</div><div class="line">313</div><div class="line">314</div><div class="line">315</div><div class="line">316</div><div class="line">317</div><div class="line">318</div><div class="line">319</div><div class="line">320</div><div class="line">321</div><div class="line">322</div><div class="line">323</div><div class="line">324</div><div class="line">325</div><div class="line">326</div><div class="line">327</div><div class="line">328</div><div class="line">329</div><div class="line">330</div><div class="line">331</div><div class="line">332</div><div class="line">333</div><div class="line">334</div><div class="line">335</div><div class="line">336</div><div class="line">337</div><div class="line">338</div><div class="line">339</div><div class="line">340</div><div class="line">341</div><div class="line">342</div><div class="line">343</div><div class="line">344</div><div class="line">345</div><div class="line">346</div><div class="line">347</div><div class="line">348</div><div class="line">349</div><div class="line">350</div><div class="line">351</div><div class="line">352</div><div class="line">353</div><div class="line">354</div><div class="line">355</div><div class="line">356</div><div class="line">357</div><div class="line">358</div><div class="line">359</div><div class="line">360</div><div class="line">361</div><div class="line">362</div><div class="line">363</div><div class="line">364</div><div class="line">365</div><div class="line">366</div><div class="line">367</div><div class="line">368</div><div class="line">369</div><div class="line">370</div><div class="line">371</div><div class="line">372</div><div class="line">373</div><div class="line">374</div><div class="line">375</div><div class="line">376</div><div class="line">377</div><div class="line">378</div><div class="line">379</div><div class="line">380</div><div class="line">381</div><div class="line">382</div><div class="line">383</div><div class="line">384</div><div class="line">385</div><div class="line">386</div><div class="line">387</div><div class="line">388</div><div class="line">389</div><div class="line">390</div><div class="line">391</div><div class="line">392</div><div class="line">393</div><div class="line">394</div><div class="line">395</div><div class="line">396</div><div class="line">397</div><div class="line">398</div><div class="line">399</div><div class="line">400</div><div class="line">401</div><div class="line">402</div><div class="line">403</div><div class="line">404</div><div class="line">405</div><div class="line">406</div><div class="line">407</div><div class="line">408</div><div class="line">409</div><div class="line">410</div><div class="line">411</div><div class="line">412</div><div class="line">413</div><div class="line">414</div><div class="line">415</div><div class="line">416</div><div class="line">417</div><div class="line">418</div><div class="line">419</div><div class="line">420</div><div class="line">421</div><div class="line">422</div><div class="line">423</div><div class="line">424</div><div class="line">425</div><div class="line">426</div><div class="line">427</div><div class="line">428</div><div class="line">429</div><div class="line">430</div><div class="line">431</div><div class="line">432</div><div class="line">433</div><div class="line">434</div><div class="line">435</div><div class="line">436</div><div class="line">437</div><div class="line">438</div><div class="line">439</div><div class="line">440</div><div class="line">441</div><div class="line">442</div><div class="line">443</div><div class="line">444</div><div class="line">445</div><div class="line">446</div><div class="line">447</div><div class="line">448</div><div class="line">449</div><div class="line">450</div><div class="line">451</div><div class="line">452</div><div class="line">453</div><div class="line">454</div><div class="line">455</div><div class="line">456</div><div class="line">457</div><div class="line">458</div><div class="line">459</div><div class="line">460</div><div class="line">461</div><div class="line">462</div><div class="line">463</div><div class="line">464</div><div class="line">465</div><div class="line">466</div><div class="line">467</div><div class="line">468</div><div class="line">469</div><div class="line">470</div><div class="line">471</div><div class="line">472</div><div class="line">473</div><div class="line">474</div><div class="line">475</div><div class="line">476</div><div class="line">477</div><div class="line">478</div><div class="line">479</div><div class="line">480</div><div class="line">481</div><div class="line">482</div><div class="line">483</div><div class="line">484</div><div class="line">485</div><div class="line">486</div><div class="line">487</div><div class="line">488</div><div class="line">489</div><div class="line">490</div><div class="line">491</div><div class="line">492</div><div class="line">493</div><div class="line">494</div><div class="line">495</div><div class="line">496</div><div class="line">497</div><div class="line">498</div><div class="line">499</div><div class="line">500</div><div class="line">501</div><div class="line">502</div><div class="line">503</div><div class="line">504</div><div class="line">505</div><div class="line">506</div><div class="line">507</div><div class="line">508</div><div class="line">509</div><div class="line">510</div><div class="line">511</div><div class="line">512</div><div class="line">513</div><div class="line">514</div><div class="line">515</div><div class="line">516</div><div class="line">517</div><div class="line">518</div><div class="line">519</div><div class="line">520</div><div class="line">521</div><div class="line">522</div><div class="line">523</div><div class="line">524</div><div class="line">525</div><div class="line">526</div><div class="line">527</div><div class="line">528</div><div class="line">529</div><div class="line">530</div><div class="line">531</div><div class="line">532</div><div class="line">533</div><div class="line">534</div><div class="line">535</div><div class="line">536</div><div class="line">537</div><div class="line">538</div><div class="line">539</div><div class="line">540</div><div class="line">541</div><div class="line">542</div><div class="line">543</div><div class="line">544</div><div class="line">545</div><div class="line">546</div><div class="line">547</div><div class="line">548</div><div class="line">549</div><div class="line">550</div><div class="line">551</div><div class="line">552</div><div class="line">553</div><div class="line">554</div><div class="line">555</div><div class="line">556</div><div class="line">557</div><div class="line">558</div><div class="line">559</div><div class="line">560</div><div class="line">561</div><div class="line">562</div><div class="line">563</div><div class="line">564</div><div class="line">565</div><div class="line">566</div><div class="line">567</div><div class="line">568</div><div class="line">569</div><div class="line">570</div><div class="line">571</div><div class="line">572</div><div class="line">573</div><div class="line">574</div><div class="line">575</div><div class="line">576</div><div class="line">577</div><div class="line">578</div><div class="line">579</div><div class="line">580</div><div class="line">581</div><div class="line">582</div><div class="line">583</div><div class="line">584</div><div class="line">585</div><div class="line">586</div><div class="line">587</div><div class="line">588</div><div class="line">589</div><div class="line">590</div><div class="line">591</div><div class="line">592</div><div class="line">593</div><div class="line">594</div><div class="line">595</div><div class="line">596</div><div class="line">597</div><div class="line">598</div><div class="line">599</div><div class="line">600</div><div class="line">601</div><div class="line">602</div><div class="line">603</div><div class="line">604</div><div class="line">605</div><div class="line">606</div><div class="line">607</div><div class="line">608</div><div class="line">609</div><div class="line">610</div><div class="line">611</div><div class="line">612</div><div class="line">613</div><div class="line">614</div><div class="line">615</div><div class="line">616</div><div class="line">617</div><div class="line">618</div><div class="line">619</div><div class="line">620</div><div class="line">621</div><div class="line">622</div><div class="line">623</div><div class="line">624</div><div class="line">625</div><div class="line">626</div><div class="line">627</div><div class="line">628</div><div class="line">629</div><div class="line">630</div><div class="line">631</div><div class="line">632</div><div class="line">633</div><div class="line">634</div><div class="line">635</div><div class="line">636</div><div class="line">637</div><div class="line">638</div><div class="line">639</div><div class="line">640</div><div class="line">641</div><div class="line">642</div><div class="line">643</div><div class="line">644</div><div class="line">645</div><div class="line">646</div><div class="line">647</div><div class="line">648</div><div class="line">649</div><div class="line">650</div><div class="line">651</div><div class="line">652</div><div class="line">653</div><div class="line">654</div><div class="line">655</div><div class="line">656</div><div class="line">657</div><div class="line">658</div><div class="line">659</div><div class="line">660</div><div class="line">661</div><div class="line">662</div><div class="line">663</div><div class="line">664</div><div class="line">665</div><div class="line">666</div><div class="line">667</div><div class="line">668</div><div class="line">669</div><div class="line">670</div><div class="line">671</div><div class="line">672</div><div class="line">673</div><div class="line">674</div><div class="line">675</div><div class="line">676</div><div class="line">677</div><div class="line">678</div><div class="line">679</div><div class="line">680</div><div class="line">681</div><div class="line">682</div><div class="line">683</div><div class="line">684</div><div class="line">685</div><div class="line">686</div><div class="line">687</div><div class="line">688</div><div class="line">689</div><div class="line">690</div><div class="line">691</div><div class="line">692</div><div class="line">693</div><div class="line">694</div><div class="line">695</div><div class="line">696</div><div class="line">697</div><div class="line">698</div><div class="line">699</div><div class="line">700</div><div class="line">701</div><div class="line">702</div><div class="line">703</div><div class="line">704</div><div class="line">705</div><div class="line">706</div><div class="line">707</div><div class="line">708</div><div class="line">709</div><div class="line">710</div><div class="line">711</div><div class="line">712</div><div class="line">713</div><div class="line">714</div><div class="line">715</div><div class="line">716</div><div class="line">717</div><div class="line">718</div><div class="line">719</div><div class="line">720</div><div class="line">721</div><div class="line">722</div><div class="line">723</div><div class="line">724</div><div class="line">725</div><div class="line">726</div><div class="line">727</div><div class="line">728</div><div class="line">729</div><div class="line">730</div><div class="line">731</div><div class="line">732</div><div class="line">733</div><div class="line">734</div><div class="line">735</div><div class="line">736</div><div class="line">737</div><div class="line">738</div><div class="line">739</div><div class="line">740</div><div class="line">741</div><div class="line">742</div><div class="line">743</div><div class="line">744</div><div class="line">745</div><div class="line">746</div><div class="line">747</div><div class="line">748</div><div class="line">749</div><div class="line">750</div><div class="line">751</div><div class="line">752</div><div class="line">753</div><div class="line">754</div><div class="line">755</div><div class="line">756</div><div class="line">757</div><div class="line">758</div><div class="line">759</div><div class="line">760</div><div class="line">761</div><div class="line">762</div><div class="line">763</div><div class="line">764</div><div class="line">765</div><div class="line">766</div><div class="line">767</div><div class="line">768</div><div class="line">769</div><div class="line">770</div><div class="line">771</div><div class="line">772</div><div class="line">773</div><div class="line">774</div><div class="line">775</div><div class="line">776</div><div class="line">777</div><div class="line">778</div><div class="line">779</div><div class="line">780</div><div class="line">781</div><div class="line">782</div><div class="line">783</div><div class="line">784</div><div class="line">785</div><div class="line">786</div><div class="line">787</div><div class="line">788</div><div class="line">789</div><div class="line">790</div><div class="line">791</div><div class="line">792</div></pre></td><td class="code"><pre><div class="line">&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.0 Transitional//EN&quot;&gt;</div><div class="line">&lt;HTML&gt;</div><div class="line"> &lt;HEAD&gt;</div><div class="line">  &lt;TITLE&gt; New Document &lt;/TITLE&gt;</div><div class="line">  &lt;META NAME=&quot;Generator&quot; CONTENT=&quot;EditPlus&quot;&gt;</div><div class="line">  &lt;META NAME=&quot;Author&quot; CONTENT=&quot;&quot;&gt;</div><div class="line">  &lt;META NAME=&quot;Keywords&quot; CONTENT=&quot;&quot;&gt;</div><div class="line">  &lt;META NAME=&quot;Description&quot; CONTENT=&quot;&quot;&gt;</div><div class="line">  &lt;style type=&quot;text/css&quot;&gt;</div><div class="line">  *body&#123;margin:0 auto;&#125;</div><div class="line">  #status&#123;</div><div class="line">    position: absolute;</div><div class="line">    left: 50%;</div><div class="line">    top: 170px;</div><div class="line">    margin-left: 60px;</div><div class="line">  &#125;</div><div class="line">.background &#123;</div><div class="line">  background: rgb(52, 166, 251);</div><div class="line">  table-layout: fixed;</div><div class="line">  border-spacing: 0;</div><div class="line">&#125;</div><div class="line">.background td &#123; padding: 0; &#125;</div><div class="line">.lava &#123; background: rgb(255, 100, 100); &#125;</div><div class="line">.wall &#123; background: white; &#125;</div><div class="line">.actor &#123; position: absolute; &#125;</div><div class="line">.coin &#123; background: rgb(241, 229, 89); &#125;</div><div class="line">.player &#123; background: rgb(64, 64, 64); &#125;</div><div class="line">.lost .player &#123; background: rgb(160, 64, 64); &#125;</div><div class="line">.won .player &#123;</div><div class="line">  box-shadow: -4px -7px 8px white, 4px -7px 8px white;</div><div class="line">&#125;</div><div class="line">.game &#123;</div><div class="line">  overflow: hidden;</div><div class="line">  max-width: 600px;</div><div class="line">  max-height: 450px;</div><div class="line">  position: relative;</div><div class="line">&#125;</div><div class="line">  &lt;/style&gt;</div><div class="line">&lt;/head&gt;</div><div class="line"> </div><div class="line">&lt;body&gt;</div><div class="line"> &lt;div id=&apos;status&apos;&gt;How many lives you have left: &lt;span id=&quot;lives&quot;&gt;&lt;/span&gt;&lt;/div&gt;</div><div class="line">&lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">   </div><div class="line">  /*</div><div class="line">Based on Dark Blue by Thomas Palef.</div><div class="line"> </div><div class="line">Plans are submitted as an array of strings that forms a grid.</div><div class="line"> </div><div class="line"> </div><div class="line">@ = Player start position</div><div class="line">o = Coins</div><div class="line">x = Solid surfaces</div><div class="line">! = Non-moving lava</div><div class="line">= = Vertical moving lava</div><div class="line">v = Dripping lava</div><div class="line">| = Horizontal moving lava</div><div class="line"> </div><div class="line">*/</div><div class="line">var simpleLevelPlan = [</div><div class="line">  &quot;                      &quot;,</div><div class="line">  &quot;                      &quot;,</div><div class="line">  &quot;  x              = x  &quot;,</div><div class="line">  &quot;  x         o o    x  &quot;,</div><div class="line">  &quot;  x @      xxxxx   x  &quot;,</div><div class="line">  &quot;  xxxxx            x  &quot;,</div><div class="line">  &quot;      x!!!!!!!!!!!!x  &quot;,</div><div class="line">  &quot;      xxxxxxxxxxxxxx  &quot;,</div><div class="line">  &quot;                      &quot;</div><div class="line">];</div><div class="line"> </div><div class="line">var GAME_LEVELS = [</div><div class="line">  [&quot;                                                                                &quot;,</div><div class="line">   &quot;                                                                                &quot;,</div><div class="line">   &quot;                                                                                &quot;,</div><div class="line">   &quot;                                                                                &quot;,</div><div class="line">   &quot;                                                                                &quot;,</div><div class="line">   &quot;                                                                                &quot;,</div><div class="line">   &quot;                                                                  xxx           &quot;,</div><div class="line">   &quot;                                                   xx      xx    xx!xx          &quot;,</div><div class="line">   &quot;                                    o o      xx                  x!!!x          &quot;,</div><div class="line">   &quot;                                                                 xx!xx          &quot;,</div><div class="line">   &quot;                                   xxxxx                          xvx           &quot;,</div><div class="line">   &quot;                                                                            xx  &quot;,</div><div class="line">   &quot;  xx                                      o o                                x  &quot;,</div><div class="line">   &quot;  x                     o                                                    x  &quot;,</div><div class="line">   &quot;  x                                      xxxxx                             o x  &quot;,</div><div class="line">   &quot;  x          xxxx       o                                                    x  &quot;,</div><div class="line">   &quot;  x  @       x  x                                                xxxxx       x  &quot;,</div><div class="line">   &quot;  xxxxxxxxxxxx  xxxxxxxxxxxxxxx   xxxxxxxxxxxxxxxxxxxx     xxxxxxx   xxxxxxxxx  &quot;,</div><div class="line">   &quot;                              x   x                  x     x                    &quot;,</div><div class="line">   &quot;                              x!!!x                  x!!!!!x                    &quot;,</div><div class="line">   &quot;                              x!!!x                  x!!!!!x                    &quot;,</div><div class="line">   &quot;                              xxxxx                  xxxxxxx                    &quot;,</div><div class="line">   &quot;                                                                                &quot;,</div><div class="line">   &quot;                                                                                &quot;],</div><div class="line">  [&quot;                                      x!!x                        xxxxxxx                                    x!x  &quot;,</div><div class="line">   &quot;                                      x!!x                     xxxx     xxxx                                 x!x  &quot;,</div><div class="line">   &quot;                                      x!!xxxxxxxxxx           xx           xx                                x!x  &quot;,</div><div class="line">   &quot;                                      xx!!!!!!!!!!xx         xx             xx                               x!x  &quot;,</div><div class="line">   &quot;                                       xxxxxxxxxx!!x         x                                    o   o   o  x!x  &quot;,</div><div class="line">   &quot;                                                xx!x         x     o   o                                    xx!x  &quot;,</div><div class="line">   &quot;                                                 x!x         x                                xxxxxxxxxxxxxxx!!x  &quot;,</div><div class="line">   &quot;                                                 xvx         x     x   x                        !!!!!!!!!!!!!!xx  &quot;,</div><div class="line">   &quot;                                                             xx  |   |   |  xx            xxxxxxxxxxxxxxxxxxxxx   &quot;,</div><div class="line">   &quot;                                                              xx!!!!!!!!!!!xx            v                        &quot;,</div><div class="line">   &quot;                                                               xxxx!!!!!xxxx                                      &quot;,</div><div class="line">   &quot;                                               x     x            xxxxxxx        xxx         xxx                  &quot;,</div><div class="line">   &quot;                                               x     x                           x x         x x                  &quot;,</div><div class="line">   &quot;                                               x     x                             x         x                    &quot;,</div><div class="line">   &quot;                                               x     x                             xx        x                    &quot;,</div><div class="line">   &quot;                                               xx    x                             x         x                    &quot;,</div><div class="line">   &quot;                                               x     x      o  o     x   x         x         x                    &quot;,</div><div class="line">   &quot;               xxxxxxx        xxx   xxx        x     x               x   x         x         x                    &quot;,</div><div class="line">   &quot;              xx     xx         x   x          x     x     xxxxxx    x   x   xxxxxxxxx       x                    &quot;,</div><div class="line">   &quot;             xx       xx        x o x          x    xx               x   x   x               x                    &quot;,</div><div class="line">   &quot;     @       x         x        x   x          x     x               x   x   x               x                    &quot;,</div><div class="line">   &quot;    xxx      x         x        x   x          x     x               x   xxxxx   xxxxxx      x                    &quot;,</div><div class="line">   &quot;    x x      x         x       xx o xx         x     x               x     o     x x         x                    &quot;,</div><div class="line">   &quot;!!!!x x!!!!!!x         x!!!!!!xx     xx!!!!!!!!xx    x!!!!!!!!!!     x     =     x x         x                    &quot;,</div><div class="line">   &quot;!!!!x x!!!!!!x         x!!!!!xx       xxxxxxxxxx     x!!!!!!!xx!     xxxxxxxxxxxxx xx  o o  xx                    &quot;,</div><div class="line">   &quot;!!!!x x!!!!!!x         x!!!!!x    o                 xx!!!!!!xx !                    xx     xx                     &quot;,</div><div class="line">   &quot;!!!!x x!!!!!!x         x!!!!!x                     xx!!!!!!xx  !                     xxxxxxx                      &quot;,</div><div class="line">   &quot;!!!!x x!!!!!!x         x!!!!!xx       xxxxxxxxxxxxxx!!!!!!xx   !                                                  &quot;,</div><div class="line">   &quot;!!!!x x!!!!!!x         x!!!!!!xxxxxxxxx!!!!!!!!!!!!!!!!!!xx    !                                                  &quot;,</div><div class="line">   &quot;!!!!x x!!!!!!x         x!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!xx     !                                                  &quot;],</div><div class="line">  [&quot;                                                                                                              &quot;,</div><div class="line">   &quot;                                                                                                              &quot;,</div><div class="line">   &quot;                                                                                                              &quot;,</div><div class="line">   &quot;                                                                                                              &quot;,</div><div class="line">   &quot;                                                                                                              &quot;,</div><div class="line">   &quot;                                        o                                                                     &quot;,</div><div class="line">   &quot;                                                                                                              &quot;,</div><div class="line">   &quot;                                        x                                                                     &quot;,</div><div class="line">   &quot;                                        x                                                                     &quot;,</div><div class="line">   &quot;                                        x                                                                     &quot;,</div><div class="line">   &quot;                                        x                                                                     &quot;,</div><div class="line">   &quot;                                       xxx                                                                    &quot;,</div><div class="line">   &quot;                                       x x                 !!!        !!!  xxx                                &quot;,</div><div class="line">   &quot;                                       x x                 !x!        !x!                                     &quot;,</div><div class="line">   &quot;                                     xxx xxx                x          x                                      &quot;,</div><div class="line">   &quot;                                      x   x                 x   oooo   x       xxx                            &quot;,</div><div class="line">   &quot;                                      x   x                 x          x      x!!!x                           &quot;,</div><div class="line">   &quot;                                      x   x                 xxxxxxxxxxxx       xxx                            &quot;,</div><div class="line">   &quot;                                     xx   xx      x   x      x                                                &quot;,</div><div class="line">   &quot;                                      x   xxxxxxxxx   xxxxxxxx              x x                               &quot;,</div><div class="line">   &quot;                                      x   x           x                    x!!!x                              &quot;,</div><div class="line">   &quot;                                      x   x           x                     xxx                               &quot;,</div><div class="line">   &quot;                                     xx   xx          x                                                       &quot;,</div><div class="line">   &quot;                                      x   x= = = =    x            xxx                                        &quot;,</div><div class="line">   &quot;                                      x   x           x           x!!!x                                       &quot;,</div><div class="line">   &quot;                                      x   x    = = = =x     o      xxx       xxx                              &quot;,</div><div class="line">   &quot;                                     xx   xx          x                     x!!!x                             &quot;,</div><div class="line">   &quot;                              o   o   x   x           x     x                xxv        xxx                   &quot;,</div><div class="line">   &quot;                                      x   x           x              x                 x!!!x                  &quot;,</div><div class="line">   &quot;                             xxx xxx xxx xxx     o o  x!!!!!!!!!!!!!!x                   vx                   &quot;,</div><div class="line">   &quot;                             x xxx x x xxx x          x!!!!!!!!!!!!!!x                                        &quot;,</div><div class="line">   &quot;                             x             x   xxxxxxxxxxxxxxxxxxxxxxx                                        &quot;,</div><div class="line">   &quot;                             xx           xx                                         xxx                      &quot;,</div><div class="line">   &quot;  xxx                         x     x     x                                         x!!!x                xxx  &quot;,</div><div class="line">   &quot;  x x                         x    xxx    x                                          xxx                 x x  &quot;,</div><div class="line">   &quot;  x                           x    xxx    xxxxxxx                        xxxxx                             x  &quot;,</div><div class="line">   &quot;  x                           x           x                              x   x                             x  &quot;,</div><div class="line">   &quot;  x                           xx          x                              x x x                             x  &quot;,</div><div class="line">   &quot;  x                                       x       |xxxx|    |xxxx|     xxx xxx                             x  &quot;,</div><div class="line">   &quot;  x                xxx             o o    x                              x         xxx                     x  &quot;,</div><div class="line">   &quot;  x               xxxxx       xx          x                             xxx       x!!!x          x         x  &quot;,</div><div class="line">   &quot;  x               oxxxo       x    xxx    x                             x x        xxx          xxx        x  &quot;,</div><div class="line">   &quot;  x                xxx        xxxxxxxxxxxxx  x oo x    x oo x    x oo  xx xx                    xxx        x  &quot;,</div><div class="line">   &quot;  x      @          x         x           x!!x    x!!!!x    x!!!!x    xx   xx                    x         x  &quot;,</div><div class="line">   &quot;  xxxxxxxxxxxxxxxxxxxxxxxxxxxxx           xxxxxxxxxxxxxxxxxxxxxxxxxxxxx     xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx  &quot;,</div><div class="line">   &quot;                                                                                                              &quot;,</div><div class="line">   &quot;                                                                                                              &quot;],</div><div class="line">  [&quot;                                                                                                  xxx x       &quot;,</div><div class="line">   &quot;                                                                                                      x       &quot;,</div><div class="line">   &quot;                                                                                                  xxxxx       &quot;,</div><div class="line">   &quot;                                                                                                  x           &quot;,</div><div class="line">   &quot;                                                                                                  x xxx       &quot;,</div><div class="line">   &quot;                          o                                                                       x x x       &quot;,</div><div class="line">   &quot;                                                                                             o o oxxx x       &quot;,</div><div class="line">   &quot;                   xxx                                                                                x       &quot;,</div><div class="line">   &quot;       !  o  !                                                xxxxx xxxxx xxxxx xxxxx xxxxx xxxxx xxxxx       &quot;,</div><div class="line">   &quot;       x     x                                                x   x x   x x   x x   x x   x x   x x           &quot;,</div><div class="line">   &quot;       x= o  x            x                                   xxx x xxx x xxx x xxx x xxx x xxx x xxxxx       &quot;,</div><div class="line">   &quot;       x     x                                                  x x   x x   x x   x x   x x   x x     x       &quot;,</div><div class="line">   &quot;       !  o  !            o                                  xxxx xxxxx xxxxx xxxxx xxxxx xxxxx xxxxxxx       &quot;,</div><div class="line">   &quot;                                                                                                              &quot;,</div><div class="line">   &quot;          o              xxx                              xx                                                  &quot;,</div><div class="line">   &quot;                                                                                                              &quot;,</div><div class="line">   &quot;                                                                                                              &quot;,</div><div class="line">   &quot;                                                      xx                                                      &quot;,</div><div class="line">   &quot;                   xxx         xxx                                                                            &quot;,</div><div class="line">   &quot;                                                                                                              &quot;,</div><div class="line">   &quot;                          o                                                     x      x                      &quot;,</div><div class="line">   &quot;                                                          xx     xx                                           &quot;,</div><div class="line">   &quot;             xxx         xxx         xxx                                 x                  x                 &quot;,</div><div class="line">   &quot;                                                                                                              &quot;,</div><div class="line">   &quot;                                                                 ||                                           &quot;,</div><div class="line">   &quot;  xxxxxxxxxxx                                                                                                 &quot;,</div><div class="line">   &quot;  x         x o xxxxxxxxx o xxxxxxxxx o xx                                                x                   &quot;,</div><div class="line">   &quot;  x         x   x       x   x       x   x                 ||                  x     x                         &quot;,</div><div class="line">   &quot;  x  @      xxxxx   o   xxxxx   o   xxxxx                                                                     &quot;,</div><div class="line">   &quot;  xxxxxxx                                     xxxxx       xx     xx     xxx                                   &quot;,</div><div class="line">   &quot;        x=                  =                =x   x                     xxx                                   &quot;,</div><div class="line">   &quot;        xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx   x!!!!!!!!!!!!!!!!!!!!!xxx!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!&quot;,</div><div class="line">   &quot;                                                  xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;,</div><div class="line">   &quot;                                                                                                              &quot;]</div><div class="line">];</div><div class="line"> </div><div class="line">// Assumes the plan is valid (add validation for production)</div><div class="line">function Level(plan) &#123;</div><div class="line">  this.width = plan[0].length;</div><div class="line">  this.height = plan.length;</div><div class="line">  // Array of arrays, each position containing null or a character</div><div class="line">  this.grid = [];</div><div class="line">  // Contains all of the dynamic objects (lava, coin or player),</div><div class="line">  // along with their position and state</div><div class="line">  this.actors = [];</div><div class="line">   </div><div class="line">  for (var y = 0; y &lt; this.height; y++) &#123;</div><div class="line">    var line = plan[y], gridLine = [];</div><div class="line">    for (var x = 0; x &lt; this.width; x++) &#123;</div><div class="line">      var ch = line[x], fieldType = null;</div><div class="line">      var Actor = actorChars[ch];</div><div class="line">      if (Actor)</div><div class="line">        // This constructs the referenced moving object in</div><div class="line">        // actorChars and pushes it to the actors array</div><div class="line">        this.actors.push(new Actor(new Vector(x, y), ch));</div><div class="line">      else if (ch == &apos;x&apos;)</div><div class="line">        // Wall</div><div class="line">        fieldType = &apos;wall&apos;;</div><div class="line">      else if (ch == &apos;!&apos;)</div><div class="line">        // Stationary lava</div><div class="line">        fieldType = &apos;lava&apos;;</div><div class="line">      gridLine.push(fieldType);</div><div class="line">    &#125;</div><div class="line">    this.grid.push(gridLine);</div><div class="line">  &#125;</div><div class="line">  // Find the Player actor</div><div class="line">  this.player = this.actors.filter(function(actor) &#123;</div><div class="line">    return actor.type == &apos;player&apos;;</div><div class="line">  &#125;)[0];</div><div class="line">  // Track whether the player has won or lost;</div><div class="line">  // finishDelay keeps the level active for a brief period of time</div><div class="line">  this.status = this.finishDelay = null;</div><div class="line">&#125;</div><div class="line">// Figure out if the level is finished</div><div class="line">Level.prototype.isFinished = function() &#123;</div><div class="line">  return this.status != null &amp;&amp; this.finishDelay &lt; 0;</div><div class="line">&#125;;</div><div class="line">// Figure out the collision area of an actor</div><div class="line">Level.prototype.obstacleAt = function(pos, size) &#123;</div><div class="line">  var xStart = Math.floor(pos.x);</div><div class="line">  var xEnd = Math.ceil(pos.x + size.x);</div><div class="line">  var yStart = Math.floor(pos.y);</div><div class="line">  var yEnd = Math.ceil(pos.y + size.y);</div><div class="line">   </div><div class="line">  // The upper and side bounds of the level return a wall</div><div class="line">  if (xStart &lt; 0 || xEnd &gt; this.width || yStart &lt; 0)</div><div class="line">    return &apos;wall&apos;;</div><div class="line">  // The bottom bound returns lava</div><div class="line">  if (yEnd &gt; this.height)</div><div class="line">    return &apos;lava&apos;;</div><div class="line">  // Check what&apos;s on the grid around the collision box</div><div class="line">  for (var y = yStart; y &lt; yEnd; y++) &#123;</div><div class="line">    for (var x = xStart; x &lt; xEnd; x++) &#123;</div><div class="line">      var fieldType = this.grid[y][x];</div><div class="line">      // returns &apos;wall&apos; or &apos;lava&apos;</div><div class="line">      if (fieldType) return fieldType;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;;</div><div class="line">// Track what actors overlap a given actor</div><div class="line">Level.prototype.actorAt = function(actor) &#123;</div><div class="line">  for (var i = 0; i &lt; this.actors.length; i++) &#123;</div><div class="line">    var other = this.actors[i];</div><div class="line">    if (other != actor &amp;&amp;</div><div class="line">        actor.pos.x + actor.size.x &gt; other.pos.x &amp;&amp;</div><div class="line">        actor.pos.x &lt; other.pos.x + other.size.x &amp;&amp;</div><div class="line">        actor.pos.y + actor.size.y &gt; other.pos.y &amp;&amp;</div><div class="line">        actor.pos.y &lt; other.pos.y + other.size.y)</div><div class="line">      return other;</div><div class="line">  &#125;</div><div class="line">&#125;;</div><div class="line">// Time increment for Level.animate()</div><div class="line">var maxStep = 0.05;</div><div class="line">// Animate the level</div><div class="line">// step will be given in seconds, keys is an object that</div><div class="line">// contains info about the arrow keys the player has pressed.</div><div class="line">Level.prototype.animate = function(step, keys) &#123;</div><div class="line">  // Used for the delay at the end of a game</div><div class="line">  if (this.status != null)</div><div class="line">    this.finishDelay -= step;</div><div class="line">   </div><div class="line">  while (step &gt; 0) &#123;</div><div class="line">    var thisStep = Math.min(step, maxStep);</div><div class="line">    this.actors.forEach(function(actor) &#123;</div><div class="line">      actor.act(thisStep, this, keys);</div><div class="line">    &#125;, this);</div><div class="line">    step -= thisStep;</div><div class="line">  &#125;</div><div class="line">&#125;;</div><div class="line">// Handle collisions between actors</div><div class="line">Level.prototype.playerTouched = function(type, actor) &#123;</div><div class="line">  // Lava&apos;s been touched</div><div class="line">  if (type == &apos;lava&apos; &amp;&amp; this.status == null) &#123;</div><div class="line">    this.status = &apos;lost&apos;;</div><div class="line">    this.finishDelay = 1;</div><div class="line">  &#125; else if (type == &apos;coin&apos;) &#123; // a coin&apos;s been touched</div><div class="line">    // Remove the coin that&apos;s been collected from actors array</div><div class="line">    this.actors = this.actors.filter(function(other) &#123;</div><div class="line">      return other != actor;</div><div class="line">    &#125;);</div><div class="line">    // No more coins = you&apos;ve won</div><div class="line">    if (!this.actors.some(function(actor) &#123;</div><div class="line">      return actor.type == &apos;coin&apos;;</div><div class="line">    &#125;)) &#123;</div><div class="line">      this.status = &apos;won&apos;;</div><div class="line">      this.finishDelay = 1;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"> </div><div class="line">var actorChars = &#123;</div><div class="line">  &apos;@&apos;: Player,</div><div class="line">  &apos;o&apos;: Coin,</div><div class="line">  &apos;=&apos;: Lava, &apos;|&apos;: Lava, &apos;v&apos;: Lava</div><div class="line">&#125;;</div><div class="line"> </div><div class="line">// Vector stores the position and size of an actor</div><div class="line">function Vector(x, y) &#123;</div><div class="line">  this.x = x; this.y = y;</div><div class="line">&#125;</div><div class="line">Vector.prototype.plus = function(other) &#123;</div><div class="line">  return new Vector(this.x + other.x, this.y + other.y);</div><div class="line">&#125;</div><div class="line">Vector.prototype.times = function(factor) &#123;</div><div class="line">  return new Vector(this.x * factor, this.y * factor);</div><div class="line">&#125;</div><div class="line"> </div><div class="line">// Player constructor</div><div class="line">function Player(pos) &#123;</div><div class="line">  // This properly aligns the bottom of the player</div><div class="line">  // to the square below (adjusts for player height)</div><div class="line">  this.pos = pos.plus(new Vector(0, -0.5));</div><div class="line">  this.size = new Vector(0.8, 1.5);</div><div class="line">  this.speed = new Vector(0, 0);</div><div class="line">&#125;</div><div class="line">Player.prototype.type = &apos;player&apos;;</div><div class="line">// X and Y movement are handled independently because</div><div class="line">// a wall shouldn&apos;t stop the up and down motion of jumping</div><div class="line">// and a floor shouldn&apos;t stop side to side movement</div><div class="line">var playerXSpeed = 7;</div><div class="line">Player.prototype.moveX = function(step, level, keys) &#123;</div><div class="line">  this.speed.x = 0;</div><div class="line">  if (keys.left) this.speed.x -= playerXSpeed;</div><div class="line">  if (keys.right) this.speed.x += playerXSpeed;</div><div class="line">   </div><div class="line">  var motion = new Vector(this.speed.x * step, 0);</div><div class="line">  var newPos = this.pos.plus(motion);</div><div class="line">  var obstacle = level.obstacleAt(newPos, this.size);</div><div class="line">  if (obstacle)</div><div class="line">    level.playerTouched(obstacle);</div><div class="line">  else</div><div class="line">    this.pos = newPos;</div><div class="line">&#125;;</div><div class="line">var gravity = 30;</div><div class="line">var jumpSpeed = 17;</div><div class="line">Player.prototype.moveY = function(step, level, keys) &#123;</div><div class="line">  this.speed.y += step * gravity;</div><div class="line">  var motion = new Vector(0, this.speed.y * step);</div><div class="line">  var newPos = this.pos.plus(motion);</div><div class="line">  var obstacle = level.obstacleAt(newPos, this.size);</div><div class="line">  if (obstacle) &#123;</div><div class="line">    level.playerTouched(obstacle);</div><div class="line">    if (keys.up &amp;&amp; this.speed.y &gt; 0)</div><div class="line">      this.speed.y = -jumpSpeed;</div><div class="line">    else</div><div class="line">      this.speed.y = 0;</div><div class="line">  &#125; else &#123;</div><div class="line">    this.pos = newPos;</div><div class="line">  &#125;</div><div class="line">&#125;;</div><div class="line">Player.prototype.act = function(step, level, keys) &#123;</div><div class="line">  this.moveX(step, level, keys);</div><div class="line">  this.moveY(step, level, keys);</div><div class="line">   </div><div class="line">  var otherActor = level.actorAt(this);</div><div class="line">  if (otherActor)</div><div class="line">    level.playerTouched(otherActor.type, otherActor);</div><div class="line">   </div><div class="line">  // Losing animation</div><div class="line">  if (level.status == &apos;lost&apos;) &#123;</div><div class="line">    this.pos.y += step;</div><div class="line">    this.size.y -=step;</div><div class="line">  &#125;</div><div class="line">&#125;;</div><div class="line"> </div><div class="line">// Lava constructor</div><div class="line">function Lava(pos, ch) &#123;</div><div class="line">  this.pos = pos;</div><div class="line">  this.size = new Vector(1, 1);</div><div class="line">  if (ch == &quot;=&quot;) &#123;</div><div class="line">    // I&apos;m guessing that speed will be added to this.pos</div><div class="line">    // in a moving method added later</div><div class="line">    this.speed = new Vector(2, 0);</div><div class="line">  &#125; else if (ch == &apos;|&apos;) &#123;</div><div class="line">    this.speed = new Vector(0, 2);</div><div class="line">  &#125; else if (ch == &apos;v&apos;) &#123;</div><div class="line">    this.speed = new Vector(0, 3);</div><div class="line">    this.repeatPos = pos;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line">Lava.prototype.type = &apos;lava&apos;;</div><div class="line">// Action</div><div class="line">Lava.prototype.act = function(step, level) &#123;</div><div class="line">  var newPos = this.pos.plus(this.speed.times(step));</div><div class="line">  if (!level.obstacleAt(newPos, this.size))</div><div class="line">    this.pos = newPos;</div><div class="line">  else if (this.repeatPos)</div><div class="line">    this.pos = this.repeatPos;</div><div class="line">  else</div><div class="line">    this.speed = this.speed.times(-1);</div><div class="line">&#125;;</div><div class="line"> </div><div class="line">// Coin constructor</div><div class="line">function Coin(pos) &#123;</div><div class="line">  this.basePos = this.pos = pos.plus(new Vector(0.2, 0.1));</div><div class="line">  this.size = new Vector(0.6, 0.6);</div><div class="line">  this.wobble = Math.random() * Math.PI * 2;</div><div class="line">&#125;</div><div class="line">Coin.prototype.type = &apos;coin&apos;;</div><div class="line">var wobbleSpeed = 8, wobbleDist = 0.07;</div><div class="line">// Action</div><div class="line">Coin.prototype.act = function(step) &#123;</div><div class="line">  this.wobble += step * wobbleSpeed;</div><div class="line">  var wobblePos = Math.sin(this.wobble) * wobbleDist;</div><div class="line">  this.pos = this.basePos.plus(new Vector(0, wobblePos));</div><div class="line">&#125;;</div><div class="line"> </div><div class="line">// Helper function that creates an element</div><div class="line">// and gives it a class</div><div class="line">function elt(name, className) &#123;</div><div class="line">  var elt = document.createElement(name);</div><div class="line">  if (className) elt.className = className;</div><div class="line">  return elt;</div><div class="line">&#125;</div><div class="line"> </div><div class="line">// Tracking keypresses for player movement</div><div class="line">var arrowCodes = &#123;37: &apos;left&apos;, 38: &apos;up&apos;, 39: &apos;right&apos;&#125;;</div><div class="line"> </div><div class="line">function trackKeys(codes) &#123;</div><div class="line">  var pressed = Object.create(null);</div><div class="line">  function handler(event) &#123;</div><div class="line">    if (codes.hasOwnProperty(event.keyCode)) &#123;</div><div class="line">      var down = event.type == &apos;keydown&apos;;</div><div class="line">      pressed[codes[event.keyCode]] = down;</div><div class="line">      event.preventDefault();</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">  addEventListener(&apos;keydown&apos;, handler);</div><div class="line">  addEventListener(&apos;keyup&apos;, handler);</div><div class="line">   </div><div class="line">  pressed.unregister = function() &#123;</div><div class="line">    removeEventListener(&apos;keydown&apos;, handler);</div><div class="line">    removeEventListener(&apos;keyup&apos;, handler);</div><div class="line">  &#125;;</div><div class="line">   </div><div class="line">  return pressed;</div><div class="line">&#125;</div><div class="line"> </div><div class="line">// Run the animation</div><div class="line">function runAnimation(frameFunc) &#123;</div><div class="line">  var lastTime = null;</div><div class="line">  function frame(time) &#123;</div><div class="line">    var stop = false;</div><div class="line">    if (lastTime != null) &#123;</div><div class="line">      var timeStep = Math.min(time - lastTime, 100) / 1000;</div><div class="line">      stop = frameFunc(timeStep) === false;</div><div class="line">    &#125;</div><div class="line">    lastTime = time;</div><div class="line">    if (!stop)</div><div class="line">      requestAnimationFrame(frame);</div><div class="line">  &#125;</div><div class="line">  requestAnimationFrame(frame);</div><div class="line">&#125;</div><div class="line"> </div><div class="line">// Run the level</div><div class="line">var arrows = trackKeys(arrowCodes);</div><div class="line"> </div><div class="line">function runLevel(level, Display, andThen) &#123;</div><div class="line">  var display = new Display(document.body, level);</div><div class="line">  // Used for storing pause state of the game</div><div class="line">  var running = &apos;yes&apos;;</div><div class="line">   </div><div class="line">  function handleKey(event) &#123;</div><div class="line">    if (event.keyCode == 27) &#123;</div><div class="line">      if (running == &apos;no&apos;) &#123;</div><div class="line">        running = &apos;yes&apos;;</div><div class="line">        runAnimation(animation);</div><div class="line">      &#125; else if (running == &apos;pausing&apos;) &#123;</div><div class="line">        running = &apos;yes&apos;;</div><div class="line">      &#125; else if (running == &apos;yes&apos;) &#123;</div><div class="line">        running = &apos;pausing&apos;;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">  addEventListener(&apos;keydown&apos;, handleKey);</div><div class="line">   </div><div class="line">  function animation(step) &#123;</div><div class="line">    if (running == &apos;pausing&apos;) &#123;</div><div class="line">      running = &apos;no&apos;;</div><div class="line">      return false;</div><div class="line">    &#125;</div><div class="line">     </div><div class="line">    level.animate(step, arrows);</div><div class="line">    display.drawFrame(step);</div><div class="line">    if (level.isFinished()) &#123;</div><div class="line">      display.clear();</div><div class="line">      // Remove the watch on the esc key </div><div class="line">      //removeEventListener(&apos;keydown&apos;, handleKey);</div><div class="line">      // Unregister the arrow key listeners</div><div class="line">      //arrows.unregister();</div><div class="line">      if (andThen)</div><div class="line">        andThen(level.status);</div><div class="line">      return false;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">   </div><div class="line">  runAnimation(animation);</div><div class="line">&#125;</div><div class="line"> </div><div class="line">// Run the game</div><div class="line">function runGame(plans, Display) &#123;</div><div class="line">  var lives = 3;</div><div class="line">  var livesSpan = document.getElementById(&apos;lives&apos;);</div><div class="line">  var gameStatus = document.getElementById(&apos;status&apos;);</div><div class="line">   </div><div class="line">  function startLevel(n) &#123;</div><div class="line">    livesSpan.textContent = lives;</div><div class="line">    runLevel(new Level(plans[n]), Display, function(status) &#123;</div><div class="line">      if (status == &apos;lost&apos;) &#123;</div><div class="line">        lives--;</div><div class="line">        if (lives == 0) &#123;</div><div class="line">          gameStatus.textContent = &apos;Game Over&apos;;</div><div class="line">          console.log(&apos;Game over&apos;);</div><div class="line">        &#125;</div><div class="line">        else </div><div class="line">          startLevel(n);</div><div class="line">      &#125;</div><div class="line">      else if (n &lt; plans.length - 1)</div><div class="line">        startLevel(n + 1);</div><div class="line">      else</div><div class="line">        console.log(&apos;You win!&apos;);</div><div class="line">    &#125;);</div><div class="line">  &#125;</div><div class="line">  startLevel(0);</div><div class="line">&#125;</div><div class="line"> </div><div class="line"> </div><div class="line">// DOMDisplay uses the DOM to draw the program out</div><div class="line">function DOMDisplay(parent, level) &#123;</div><div class="line">  this.wrap = parent.appendChild(elt(&apos;div&apos;, &apos;game&apos;));</div><div class="line">  this.level = level;</div><div class="line">   </div><div class="line">  // Background is drawn only once</div><div class="line">  this.wrap.appendChild(this.drawBackground());</div><div class="line">  // The actorLayer is animated in the drawFrame() method</div><div class="line">  this.actorLayer = null;</div><div class="line">  this.drawFrame();</div><div class="line">&#125;</div><div class="line">// Set the scale of 1 grid unit</div><div class="line">var scale = 20;</div><div class="line">// Draw the background</div><div class="line">DOMDisplay.prototype.drawBackground = function() &#123;</div><div class="line">  var table = elt(&apos;table&apos;, &apos;background&apos;);</div><div class="line">  table.style.width = this.level.width * scale + &apos;px&apos;;</div><div class="line">  this.level.grid.forEach(function(row) &#123;</div><div class="line">    var rowElt = table.appendChild(elt(&apos;tr&apos;));</div><div class="line">    rowElt.style.height = scale + &apos;px&apos;;</div><div class="line">    row.forEach(function(type) &#123;</div><div class="line">      rowElt.appendChild(elt(&apos;td&apos;, type));</div><div class="line">    &#125;);</div><div class="line">  &#125;);</div><div class="line">  return table;</div><div class="line">&#125;;</div><div class="line">// Draw the actors</div><div class="line">DOMDisplay.prototype.drawActors = function() &#123;</div><div class="line">  var wrap = elt(&apos;div&apos;);</div><div class="line">  this.level.actors.forEach(function(actor) &#123;</div><div class="line">    var rect = wrap.appendChild(elt(&apos;div&apos;, &apos;actor &apos; + actor.type));</div><div class="line">    rect.style.width  = actor.size.x * scale + &apos;px&apos;;</div><div class="line">    rect.style.height = actor.size.y * scale + &apos;px&apos;;</div><div class="line">    rect.style.left   = actor.pos.x * scale + &apos;px&apos;;</div><div class="line">    rect.style.top    = actor.pos.y * scale + &apos;px&apos;;</div><div class="line">  &#125;);</div><div class="line">  return wrap;</div><div class="line">&#125;;</div><div class="line">// Redraw the actors</div><div class="line">DOMDisplay.prototype.drawFrame = function() &#123;</div><div class="line">  if (this.actorLayer)</div><div class="line">    this.wrap.removeChild(this.actorLayer);</div><div class="line">  this.actorLayer = this.wrap.appendChild(this.drawActors());</div><div class="line">  // The status class is used to style the player based on</div><div class="line">  // the state of the game (won or lost)</div><div class="line">  this.wrap.className = &apos;game &apos; + (this.level.status || &apos;&apos;);</div><div class="line">  this.scrollPlayerIntoView();</div><div class="line">&#125;;</div><div class="line">// Make sure the player&apos;s always on screen</div><div class="line">DOMDisplay.prototype.scrollPlayerIntoView = function() &#123;</div><div class="line">  var width = this.wrap.clientWidth;</div><div class="line">  var height = this.wrap.clientHeight;</div><div class="line">  var margin = width / 3;</div><div class="line">   </div><div class="line">  // The viewport</div><div class="line">  var left = this.wrap.scrollLeft, right = left + width;</div><div class="line">  var top = this.wrap.scrollTop, bottom = top + height;</div><div class="line">   </div><div class="line">  // center makes use of the Vector methods defined earlier</div><div class="line">  var player = this.level.player;</div><div class="line">  var center = player.pos.plus(player.size.times(0.5))</div><div class="line">                  .times(scale);</div><div class="line">   </div><div class="line">  if (center.x &lt; left + margin)</div><div class="line">    this.wrap.scrollLeft = center.x - margin;</div><div class="line">  else if (center.x &gt; right - margin)</div><div class="line">    this.wrap.scrollLeft = center.x + margin - width;</div><div class="line">  if (center.y &lt; top + margin)</div><div class="line">    this.wrap.scrollTop = center.y - margin;</div><div class="line">  else if (center.y &gt; bottom - margin)</div><div class="line">    this.wrap.scrollTop = center.y + margin - height;</div><div class="line">&#125;</div><div class="line">// Clear the level</div><div class="line">DOMDisplay.prototype.clear = function() &#123;</div><div class="line">  this.wrap.parentNode.removeChild(this.wrap);</div><div class="line">&#125;;</div><div class="line"> </div><div class="line">// Canvas API helper function</div><div class="line">function flipHorizontally(context, around) &#123;</div><div class="line">  context.translate(around, 0);</div><div class="line">  context.scale(-1, 1);</div><div class="line">  context.translate(-around, 0);</div><div class="line">&#125;</div><div class="line">// Use Canvas API to draw game</div><div class="line">function CanvasDisplay(parent, level) &#123;</div><div class="line">  // Set up the canvas element</div><div class="line">  this.canvas = document.createElement(&apos;canvas&apos;);</div><div class="line">  this.canvas.width = Math.min(1000, level.width * scale);</div><div class="line">  this.canvas.height = Math.min(1000, level.height * scale);</div><div class="line">  this.canvas.style.display = &apos;block&apos;;</div><div class="line">  this.canvas.style.margin = &apos;200px auto 0&apos;;</div><div class="line">  parent.appendChild(this.canvas);</div><div class="line">  this.cx = this.canvas.getContext(&apos;2d&apos;);</div><div class="line">   </div><div class="line">  this.level = level;</div><div class="line">  // Uses the step size passed to drawFrame()</div><div class="line">  this.animationTime = 0;</div><div class="line">  this.flipPlayer = false;</div><div class="line">   </div><div class="line">  this.viewport = &#123;</div><div class="line">    left: 0,</div><div class="line">    top: 0,</div><div class="line">    width: this.canvas.width / scale,</div><div class="line">    height: this.canvas.height / scale</div><div class="line">  &#125;;</div><div class="line">   </div><div class="line">  this.drawFrame(0);</div><div class="line">&#125;</div><div class="line">CanvasDisplay.prototype.clear = function() &#123;</div><div class="line">  this.canvas.parentNode.removeChild(this.canvas);</div><div class="line">&#125;;</div><div class="line">// Draw the frame</div><div class="line">CanvasDisplay.prototype.drawFrame = function(step) &#123;</div><div class="line">  this.animationTime += step;</div><div class="line">   </div><div class="line">  // Update the current player position for the viewport</div><div class="line">  this.updateViewport();</div><div class="line">  // Clear current frame</div><div class="line">  this.clearDisplay();</div><div class="line">  // Draw the background</div><div class="line">  this.drawBackground();</div><div class="line">  // Draw the actors</div><div class="line">  this.drawActors();</div><div class="line">&#125;;</div><div class="line">// Scrolls the viewport depending on the player position</div><div class="line">CanvasDisplay.prototype.updateViewport = function() &#123;</div><div class="line">  var view = this.viewport, margin = view.width / 3;</div><div class="line">  var player = this.level.player;</div><div class="line">  var center = player.pos.plus(player.size.times(0.5));</div><div class="line">   </div><div class="line">  // Compare the center.x of player to the viewport</div><div class="line">  // Player is less than the left of the viewport plus margin</div><div class="line">  if (center.x &lt; view.left + margin)</div><div class="line">    // Scroll left until less than 0</div><div class="line">    view.left = Math.max(center.x - margin, 0);</div><div class="line">  // Player is further right than the right of the viewport plus margin</div><div class="line">  else if (center.x &gt; view.left + view.width - margin)</div><div class="line">    // Scroll right until greater than the edge of the level</div><div class="line">    view.left = Math.min(center.x + margin - view.width,</div><div class="line">                        this.level.width - view.width);</div><div class="line">  if (center.y &lt; view.top + margin)</div><div class="line">    view.top = Math.max(center.y - margin, 0);</div><div class="line">  else if (center.y &gt; view.top + view.height - margin)</div><div class="line">    view.top = Math.min(center.y + margin - view.height,</div><div class="line">                       this.level.height - view.height);</div><div class="line">&#125;;</div><div class="line">CanvasDisplay.prototype.clearDisplay = function() &#123;</div><div class="line">  if (this.level.status == &apos;won&apos;)</div><div class="line">    this.cx.fillStyle = &apos;rgb(68, 191, 255)&apos;;</div><div class="line">  else if (this.level.status == &apos;lost&apos;)</div><div class="line">    this.cx.fillStyle = &apos;rgb(44, 136, 214)&apos;;</div><div class="line">  else</div><div class="line">    this.cx.fillStyle = &apos;rgb(52, 166, 251)&apos;;</div><div class="line">  this.cx.fillRect(0, 0,</div><div class="line">                  this.canvas.width, this.canvas.height);</div><div class="line">&#125;;</div><div class="line">var otherSprites = document.createElement(&apos;img&apos;);</div><div class="line">otherSprites.src = &apos;http://eloquentjavascript.net/img/sprites.png&apos;;</div><div class="line">// Draw the background</div><div class="line">CanvasDisplay.prototype.drawBackground = function() &#123;</div><div class="line">  var view = this.viewport;</div><div class="line">  var xStart = Math.floor(view.left);</div><div class="line">  var xEnd = Math.ceil(view.left + view.width);</div><div class="line">  var yStart = Math.floor(view.top);</div><div class="line">  var yEnd = Math.ceil(view.top + view.height);</div><div class="line">   </div><div class="line">  for (var y = yStart; y &lt; yEnd; y++) &#123;</div><div class="line">    for (var x = xStart; x &lt; xEnd; x++) &#123;</div><div class="line">      var tile = this.level.grid[y][x];</div><div class="line">      if (tile == null) continue;</div><div class="line">      var screenX = (x - view.left) * scale;</div><div class="line">      var screenY = (y - view.top) * scale;</div><div class="line">      var tileX = tile == &apos;lava&apos; ? scale : 0;</div><div class="line">      this.cx.drawImage(otherSprites,</div><div class="line">                       tileX,   0,       scale, scale,</div><div class="line">                       screenX, screenY, scale, scale);</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;;</div><div class="line">// Draw the player (called by drawActors())</div><div class="line">var playerSprites = document.createElement(&apos;img&apos;);</div><div class="line">playerSprites.src = &apos;http://eloquentjavascript.net/img/player.png&apos;;</div><div class="line">var playerXOverlap = 4;</div><div class="line">CanvasDisplay.prototype.drawPlayer = function(x, y, width, height) &#123;</div><div class="line">  var sprite = 8, player = this.level.player;</div><div class="line">  width += playerXOverlap * 2;</div><div class="line">  x -= playerXOverlap;</div><div class="line">  if (player.speed.x != 0)</div><div class="line">    this.flipPlayer = player.speed.x &lt; 0;</div><div class="line">   </div><div class="line">  if (player.speed.y != 0)</div><div class="line">    sprite = 9;</div><div class="line">  else if (player.speed.x != 0)</div><div class="line">    sprite = Math.floor(this.animationTime * 12) % 8;</div><div class="line">   </div><div class="line">  this.cx.save();</div><div class="line">  if (this.flipPlayer)</div><div class="line">    flipHorizontally(this.cx, x + width / 2);</div><div class="line">   </div><div class="line">  this.cx.drawImage(playerSprites,</div><div class="line">                   sprite * width, 0, width, height,</div><div class="line">                   x,              y, width, height);</div><div class="line">  this.cx.restore();</div><div class="line">&#125;</div><div class="line">// Draw the actors</div><div class="line">CanvasDisplay.prototype.drawActors = function() &#123;</div><div class="line">  this.level.actors.forEach(function(actor) &#123;</div><div class="line">    var width = actor.size.x * scale;</div><div class="line">    var height = actor.size.y * scale;</div><div class="line">    var x = (actor.pos.x - this.viewport.left) * scale;</div><div class="line">    var y = (actor.pos.y - this.viewport.top) * scale;</div><div class="line">    if (actor.type == &apos;player&apos;) &#123;</div><div class="line">      this.drawPlayer(x, y, width, height);</div><div class="line">    &#125; else &#123;</div><div class="line">      var tileX = (actor.type == &apos;coin&apos; ? 2 : 1) * scale;</div><div class="line">      this.cx.drawImage(otherSprites,</div><div class="line">                       tileX, 0, width, height,</div><div class="line">                       x,     y, width, height);</div><div class="line">    &#125;</div><div class="line">  &#125;, this);</div><div class="line">&#125;;</div><div class="line"> </div><div class="line"> </div><div class="line">// Run game with DOMDisplay</div><div class="line">// runGame(GAME_LEVELS, DOMDisplay);</div><div class="line"> </div><div class="line">// Run game with CanvasDisplay</div><div class="line">runGame(GAME_LEVELS, CanvasDisplay);</div><div class="line">&lt;/script&gt;</div><div class="line"> </div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<p><img src="http://oohubzl9h.bkt.clouddn.com/%E7%8E%9B%E4%B8%BD.PNG" alt="mali"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div><div class="line">221</div><div class="line">222</div><div class="line">223</div><div class="line">224</div><div class="line">225</div><div class="line">226</div><div class="line">227</div><div class="line">228</div><div class="line">229</div><div class="line">230</div><div class="line">231</div><div class="line">232</div><div class="line">233</div><div class="line">234</div><div class="line">235</div><div class="line">236</div><div class="line">237</div><div class="line">238</div><div class="line">239</div><div class="line">240</div><div class="line">241</div><div class="line">242</div><div class="line">243</div><div class="line">244</div><div class="line">245</div><div class="line">246</div><div class="line">247</div><div class="line">248</div><div class="line">249</div><div class="line">250</div><div class="line">251</div><div class="line">252</div><div class="line">253</div><div class="line">254</div><div class="line">255</div><div class="line">256</div><div class="line">257</div><div class="line">258</div><div class="line">259</div><div class="line">260</div><div class="line">261</div><div class="line">262</div><div class="line">263</div><div class="line">264</div><div class="line">265</div><div class="line">266</div><div class="line">267</div><div class="line">268</div><div class="line">269</div><div class="line">270</div><div class="line">271</div><div class="line">272</div><div class="line">273</div><div class="line">274</div><div class="line">275</div><div class="line">276</div><div class="line">277</div><div class="line">278</div><div class="line">279</div><div class="line">280</div><div class="line">281</div><div class="line">282</div><div class="line">283</div><div class="line">284</div><div class="line">285</div><div class="line">286</div><div class="line">287</div><div class="line">288</div><div class="line">289</div><div class="line">290</div><div class="line">291</div><div class="line">292</div><div class="line">293</div><div class="line">294</div><div class="line">295</div><div class="line">296</div><div class="line">297</div><div class="line">298</div><div class="line">299</div><div class="line">300</div><div class="line">301</div><div class="line">302</div><div class="line">303</div><div class="line">304</div><div class="line">305</div><div class="line">306</div><div class="line">307</div><div class="line">308</div><div class="line">309</div><div class="line">310</div><div class="line">311</div><div class="line">312</div><div class="line">313</div><div class="line">314</div><div class="line">315</div><div class="line">316</div><div class="line">317</div><div class="line">318</div><div class="line">319</div><div class="line">320</div><div class="line">321</div><div class="line">322</div><div class="line">323</div><div class="line">324</div><div class="line">325</div><div class="line">326</div><div class="line">327</div><div class="line">328</div><div class="line">329</div><div class="line">330</div><div class="line">331</div><div class="line">332</div><div class="line">333</div><div class="line">334</div><div class="line">335</div><div class="line">336</div><div class="line">337</div><div class="line">338</div><div class="line">339</div><div class="line">340</div><div class="line">341</div><div class="line">342</div><div class="line">343</div><div class="line">344</div><div class="line">345</div><div class="line">346</div><div class="line">347</div><div class="line">348</div><div class="line">349</div><div class="line">350</div><div class="line">351</div><div class="line">352</div><div class="line">353</div><div class="line">354</div><div class="line">355</div><div class="line">356</div><div class="line">357</div><div class="line">358</div><div class="line">359</div><div class="line">360</div><div class="line">361</div><div class="line">362</div><div class="line">363</div><div class="line">364</div><div class="line">365</div><div class="line">366</div><div class="line">367</div><div class="line">368</div><div class="line">369</div><div class="line">370</div><div class="line">371</div><div class="line">372</div><div class="line">373</div><div class="line">374</div><div class="line">375</div><div class="line">376</div><div class="line">377</div><div class="line">378</div><div class="line">379</div><div class="line">380</div><div class="line">381</div><div class="line">382</div><div class="line">383</div><div class="line">384</div><div class="line">385</div><div class="line">386</div><div class="line">387</div><div class="line">388</div><div class="line">389</div><div class="line">390</div><div class="line">391</div><div class="line">392</div><div class="line">393</div><div class="line">394</div><div class="line">395</div><div class="line">396</div><div class="line">397</div><div class="line">398</div><div class="line">399</div><div class="line">400</div><div class="line">401</div><div class="line">402</div><div class="line">403</div><div class="line">404</div><div class="line">405</div><div class="line">406</div><div class="line">407</div><div class="line">408</div><div class="line">409</div><div class="line">410</div><div class="line">411</div><div class="line">412</div><div class="line">413</div><div class="line">414</div><div class="line">415</div><div class="line">416</div><div class="line">417</div><div class="line">418</div><div class="line">419</div><div class="line">420</div><div class="line">421</div><div class="line">422</div><div class="line">423</div><div class="line">424</div><div class="line">425</div><div class="line">426</div><div class="line">427</div><div class="line">428</div><div class="line">429</div><div class="line">430</div><div class="line">431</div><div class="line">432</div><div class="line">433</div><div class="line">434</div><div class="line">435</div><div class="line">436</div><div class="line">437</div><div class="line">438</div><div class="line">439</div><div class="line">440</div><div class="line">441</div><div class="line">442</div><div class="line">443</div><div class="line">444</div><div class="line">445</div><div class="line">446</div><div class="line">447</div><div class="line">448</div><div class="line">449</div><div class="line">450</div><div class="line">451</div><div class="line">452</div><div class="line">453</div><div class="line">454</div><div class="line">455</div><div class="line">456</div><div class="line">457</div><div class="line">458</div><div class="line">459</div><div class="line">460</div><div class="line">461</div><div class="line">462</div><div class="line">463</div><div class="line">464</div><div class="line">465</div><div class="line">466</div><div class="line">467</div><div class="line">468</div><div class="line">469</div><div class="line">470</div><div class="line">471</div><div class="line">472</div><div class="line">473</div><div class="line">474</div><div class="line">475</div><div class="line">476</div></pre></td><td class="code"><pre><div class="line">&lt;!doctype html&gt;</div><div class="line">&lt;html&gt;</div><div class="line">    &lt;head&gt;</div><div class="line">        &lt;title&gt;&lt;/title&gt;</div><div class="line">        &lt;meta charset=&apos;utf-8&apos;&gt;</div><div class="line">        &lt;style&gt;</div><div class="line">        body &#123;</div><div class="line">  background-color: #F8F3A9;</div><div class="line">  margin: 0;</div><div class="line">  display: flex;</div><div class="line">  align-items: center;</div><div class="line">  justify-content: center;</div><div class="line">  min-height: 100vh;</div><div class="line">&#125;</div><div class="line"> </div><div class="line">canvas &#123;</div><div class="line">  border-radius: .4em;</div><div class="line">&#125;</div><div class="line">        &lt;/style&gt;</div><div class="line">    &lt;/head&gt;</div><div class="line">    &lt;body&gt;</div><div class="line">     </div><div class="line">&lt;canvas height=&quot;450&quot; width=&quot;750&quot;&gt;&lt;/canvas&gt;</div><div class="line">&lt;script&gt;</div><div class="line">    var $ = &#123;</div><div class="line">      canvas: null,</div><div class="line">      ctx: null,</div><div class="line">      canvas2: null,</div><div class="line">      ctx2: null,</div><div class="line">      colors: &#123;</div><div class="line">        sky: &quot;#D4F5FE&quot;,</div><div class="line">        mountains: &quot;#83CACE&quot;,</div><div class="line">        ground: &quot;#8FC04C&quot;,</div><div class="line">        groundDark: &quot;#73B043&quot;,</div><div class="line">        road: &quot;#606a7c&quot;,</div><div class="line">        roadLine: &quot;#FFF&quot;,</div><div class="line">        hud: &quot;#FFF&quot;</div><div class="line">      &#125;,</div><div class="line">      settings: &#123;</div><div class="line">        fps: 60,</div><div class="line">        skySize: 120,</div><div class="line">        ground: &#123;</div><div class="line">          size: 350,</div><div class="line">          min: 4,</div><div class="line">          max: 120</div><div class="line">        &#125;,</div><div class="line">        road: &#123;</div><div class="line">          min: 76,</div><div class="line">          max: 700,</div><div class="line">        &#125;</div><div class="line">      &#125;,</div><div class="line">      state: &#123;</div><div class="line">        bgpos: 0,</div><div class="line">        offset: 0,</div><div class="line">        startDark: true,</div><div class="line">        curve: 0,</div><div class="line">        currentCurve: 0,</div><div class="line">        turn: 1,</div><div class="line">        speed: 27,</div><div class="line">        xpos: 0,</div><div class="line">        section: 50,</div><div class="line">        car: &#123;</div><div class="line">          maxSpeed: 50,</div><div class="line">          friction: 0.4,</div><div class="line">          acc: 0.85,</div><div class="line">          deAcc: 0.5</div><div class="line">        &#125;,</div><div class="line">        keypress: &#123;</div><div class="line">          up: false,</div><div class="line">          left: false,</div><div class="line">          right: false,</div><div class="line">          down: false</div><div class="line">        &#125;</div><div class="line">      &#125;,</div><div class="line">      storage: &#123;</div><div class="line">        bg: null</div><div class="line">      &#125;</div><div class="line">    &#125;;</div><div class="line">$.canvas = document.getElementsByTagName(&apos;canvas&apos;)[0];</div><div class="line">$.ctx = $.canvas.getContext(&apos;2d&apos;);</div><div class="line">$.canvas2 = document.createElement(&apos;canvas&apos;);</div><div class="line">$.canvas2.width = $.canvas.width;</div><div class="line">$.canvas2.height = $.canvas.height;</div><div class="line">$.ctx2 = $.canvas2.getContext(&apos;2d&apos;);</div><div class="line">window.addEventListener(&quot;keydown&quot;, keyDown, false);</div><div class="line">window.addEventListener(&quot;keyup&quot;, keyUp, false);</div><div class="line"> </div><div class="line">drawBg();</div><div class="line">draw();</div><div class="line"> </div><div class="line">function draw() &#123;</div><div class="line">  setTimeout(function() &#123;</div><div class="line">    calcMovement();</div><div class="line">     </div><div class="line">    //if($.state.speed &gt; 0) &#123;</div><div class="line">      $.state.bgpos += ($.state.currentCurve * 0.02) * ($.state.speed * 0.2);</div><div class="line">      $.state.bgpos = $.state.bgpos % $.canvas.width;</div><div class="line">       </div><div class="line">      $.ctx.putImageData($.storage.bg, $.state.bgpos, 5);</div><div class="line">      $.ctx.putImageData($.storage.bg, $.state.bgpos &gt; 0 ? $.state.bgpos - $.canvas.width : $.state.bgpos + $.canvas.width, 5);</div><div class="line">    //&#125;</div><div class="line">     </div><div class="line">    $.state.offset += $.state.speed * 0.05;</div><div class="line">    if($.state.offset &gt; $.settings.ground.min) &#123;</div><div class="line">      $.state.offset = $.settings.ground.min - $.state.offset;</div><div class="line">      $.state.startDark = !$.state.startDark;</div><div class="line">    &#125;</div><div class="line">    drawGround($.ctx, $.state.offset, $.colors.ground, $.colors.groundDark, $.canvas.width);</div><div class="line">     </div><div class="line">    drawRoad($.settings.road.min + 6, $.settings.road.max + 36, 10, $.colors.roadLine);</div><div class="line">    drawGround($.ctx2, $.state.offset, $.colors.roadLine, $.colors.road, $.canvas.width);</div><div class="line">    drawRoad($.settings.road.min, $.settings.road.max, 10, $.colors.road);</div><div class="line">    drawRoad(3, 24, 0, $.ctx.createPattern($.canvas2, &apos;repeat&apos;));</div><div class="line">    drawCar();</div><div class="line">    drawHUD($.ctx, 630, 340, $.colors.hud);</div><div class="line">     </div><div class="line">    requestAnimationFrame(draw);</div><div class="line">  &#125;, 1000 / $.settings.fps);</div><div class="line">&#125;</div><div class="line"> </div><div class="line">function drawHUD(ctx, centerX, centerY, color) &#123;</div><div class="line">  var radius = 50, tigs = [0, 90, 135, 180, 225, 270, 315],</div><div class="line">      angle = 90;</div><div class="line"> </div><div class="line">  ctx.beginPath();</div><div class="line">  ctx.arc(centerX, centerY, radius, 0, 2 * Math.PI, false);</div><div class="line">  ctx.lineWidth = 7;</div><div class="line">  ctx.fillStyle = &apos;rgba(0, 0, 0, 0.4)&apos;;</div><div class="line">  ctx.fill();</div><div class="line">  ctx.strokeStyle = color;</div><div class="line">  ctx.stroke();</div><div class="line">   </div><div class="line">  for (var i = 0; i &lt; tigs.length; i++) &#123;</div><div class="line">    drawTig(ctx, centerX, centerY, radius, tigs[i], 7);</div><div class="line">  &#125;</div><div class="line">   </div><div class="line">  // draw pointer</div><div class="line">  angle = map($.state.speed, 0, $.state.car.maxSpeed, 90, 360);</div><div class="line">  drawPointer(ctx, color, 50, centerX, centerY, angle);</div><div class="line">&#125;</div><div class="line"> </div><div class="line">function drawPointer(ctx, color, radius, centerX, centerY, angle) &#123;</div><div class="line">  var point = getCirclePoint(centerX, centerY, radius - 20, angle),</div><div class="line">      point2 = getCirclePoint(centerX, centerY, 2, angle + 90),</div><div class="line">      point3 = getCirclePoint(centerX, centerY, 2, angle - 90);</div><div class="line">   </div><div class="line">  ctx.beginPath();</div><div class="line">  ctx.strokeStyle = &quot;#FF9166&quot;;</div><div class="line">  ctx.lineCap = &apos;round&apos;;</div><div class="line">  ctx.lineWidth = 4;</div><div class="line">  ctx.moveTo(point2.x, point2.y);</div><div class="line">  ctx.lineTo(point.x, point.y);</div><div class="line">  ctx.lineTo(point3.x, point3.y);</div><div class="line">  ctx.stroke();</div><div class="line">   </div><div class="line">  ctx.beginPath();</div><div class="line">  ctx.arc(centerX, centerY, 9, 0, 2 * Math.PI, false);</div><div class="line">  ctx.fillStyle = color;</div><div class="line">  ctx.fill();</div><div class="line">&#125;</div><div class="line"> </div><div class="line">function drawTig(ctx, x, y, radius, angle, size) &#123;</div><div class="line">  var startPoint = getCirclePoint(x, y, radius - 4, angle),</div><div class="line">      endPoint = getCirclePoint(x, y, radius - size, angle)</div><div class="line">   </div><div class="line">  ctx.beginPath();</div><div class="line">  ctx.lineCap = &apos;round&apos;;</div><div class="line">  ctx.moveTo(startPoint.x, startPoint.y);</div><div class="line">  ctx.lineTo(endPoint.x, endPoint.y);</div><div class="line">  ctx.stroke();</div><div class="line">&#125;</div><div class="line"> </div><div class="line">function getCirclePoint(x, y, radius, angle) &#123;</div><div class="line">    var radian = (angle / 180) * Math.PI;</div><div class="line">   </div><div class="line">    return &#123;</div><div class="line">      x: x + radius * Math.cos(radian),</div><div class="line">      y: y + radius * Math.sin(radian)</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"> </div><div class="line">function calcMovement() &#123;</div><div class="line">  var move = $.state.speed * 0.01,</div><div class="line">      newCurve = 0;</div><div class="line">   </div><div class="line">  if($.state.keypress.up) &#123;</div><div class="line">    $.state.speed += $.state.car.acc - ($.state.speed * 0.015);</div><div class="line">  &#125; else if ($.state.speed &gt; 0) &#123;</div><div class="line">    $.state.speed -= $.state.car.friction;</div><div class="line">  &#125;</div><div class="line">   </div><div class="line">  if($.state.keypress.down &amp;&amp; $.state.speed &gt; 0) &#123;</div><div class="line">    $.state.speed -= 1;</div><div class="line">  &#125;</div><div class="line">   </div><div class="line">  // Left and right</div><div class="line">  $.state.xpos -= ($.state.currentCurve * $.state.speed) * 0.005;</div><div class="line">   </div><div class="line">  if($.state.speed) &#123;</div><div class="line">    if($.state.keypress.left) &#123;</div><div class="line">      $.state.xpos += (Math.abs($.state.turn) + 7 + ($.state.speed &gt; $.state.car.maxSpeed / 4 ? ($.state.car.maxSpeed - ($.state.speed / 2)) : $.state.speed)) * 0.2;</div><div class="line">      $.state.turn -= 1;</div><div class="line">    &#125;</div><div class="line">   </div><div class="line">    if($.state.keypress.right) &#123;</div><div class="line">      $.state.xpos -= (Math.abs($.state.turn) + 7 + ($.state.speed &gt; $.state.car.maxSpeed / 4 ? ($.state.car.maxSpeed - ($.state.speed / 2)) : $.state.speed)) * 0.2;</div><div class="line">      $.state.turn += 1;</div><div class="line">    &#125;</div><div class="line">     </div><div class="line">    if($.state.turn !== 0 &amp;&amp; !$.state.keypress.left &amp;&amp; !$.state.keypress.right) &#123;</div><div class="line">      $.state.turn += $.state.turn &gt; 0 ? -0.25 : 0.25;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">   </div><div class="line">  $.state.turn = clamp($.state.turn, -5, 5);</div><div class="line">  $.state.speed = clamp($.state.speed, 0, $.state.car.maxSpeed);</div><div class="line">   </div><div class="line">  // section</div><div class="line">  $.state.section -= $.state.speed;</div><div class="line">   </div><div class="line">  if($.state.section &lt; 0) &#123;</div><div class="line">    $.state.section = randomRange(1000, 9000);</div><div class="line">     </div><div class="line">    newCurve = randomRange(-50, 50);</div><div class="line">     </div><div class="line">    if(Math.abs($.state.curve - newCurve) &lt; 20) &#123;</div><div class="line">      newCurve = randomRange(-50, 50);</div><div class="line">    &#125;</div><div class="line">     </div><div class="line">    $.state.curve = newCurve;</div><div class="line">  &#125;</div><div class="line">   </div><div class="line">  if($.state.currentCurve &lt; $.state.curve &amp;&amp; move &lt; Math.abs($.state.currentCurve - $.state.curve)) &#123;</div><div class="line">    $.state.currentCurve += move;</div><div class="line">  &#125; else if($.state.currentCurve &gt; $.state.curve &amp;&amp; move &lt; Math.abs($.state.currentCurve - $.state.curve)) &#123;</div><div class="line">    $.state.currentCurve -= move;</div><div class="line">  &#125;</div><div class="line">   </div><div class="line">  if(Math.abs($.state.xpos) &gt; 550) &#123;</div><div class="line">    $.state.speed *= 0.96;</div><div class="line">  &#125;</div><div class="line">   </div><div class="line">  $.state.xpos = clamp($.state.xpos, -650, 650);</div><div class="line">&#125;</div><div class="line"> </div><div class="line">function keyUp(e) &#123;</div><div class="line">    move(e, false);</div><div class="line">&#125;</div><div class="line"> </div><div class="line">function keyDown(e) &#123;</div><div class="line">    move(e, true);</div><div class="line">&#125;</div><div class="line"> </div><div class="line">function move(e, isKeyDown) &#123;</div><div class="line">  if(e.keyCode &gt;= 37 &amp;&amp; e.keyCode &lt;= 40) &#123;</div><div class="line">    e.preventDefault();</div><div class="line">  &#125;</div><div class="line"> </div><div class="line">  if(e.keyCode === 37) &#123;</div><div class="line">    $.state.keypress.left = isKeyDown;</div><div class="line">  &#125; </div><div class="line"> </div><div class="line">  if(e.keyCode === 38) &#123;</div><div class="line">    $.state.keypress.up = isKeyDown;</div><div class="line">  &#125; </div><div class="line"> </div><div class="line">  if(e.keyCode === 39) &#123;</div><div class="line">    $.state.keypress.right = isKeyDown;</div><div class="line">  &#125; </div><div class="line"> </div><div class="line">  if(e.keyCode === 40) &#123;</div><div class="line">    $.state.keypress.down = isKeyDown;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"> </div><div class="line">function randomRange(min, max) &#123;</div><div class="line">  return min + Math.random() * (max - min);</div><div class="line">&#125;</div><div class="line"> </div><div class="line">function norm(value, min, max) &#123;</div><div class="line">  return (value - min) / (max - min);</div><div class="line">&#125;</div><div class="line"> </div><div class="line">function lerp(norm, min, max) &#123;</div><div class="line">  return (max - min) * norm + min;</div><div class="line">&#125;</div><div class="line"> </div><div class="line">function map(value, sourceMin, sourceMax, destMin, destMax) &#123;</div><div class="line">  return lerp(norm(value, sourceMin, sourceMax), destMin, destMax);</div><div class="line">&#125;</div><div class="line"> </div><div class="line">function clamp(value, min, max) &#123;</div><div class="line">  return Math.min(Math.max(value, min), max);</div><div class="line">&#125;</div><div class="line"> </div><div class="line">function drawBg() &#123;</div><div class="line">  $.ctx.fillStyle = $.colors.sky;</div><div class="line">  $.ctx.fillRect(0, 0, $.canvas.width, $.settings.skySize);</div><div class="line">  drawMountain(0, 60, 200);</div><div class="line">  drawMountain(280, 40, 200);</div><div class="line">  drawMountain(400, 80, 200);</div><div class="line">  drawMountain(550, 60, 200);</div><div class="line">   </div><div class="line">  $.storage.bg = $.ctx.getImageData(0, 0, $.canvas.width, $.canvas.height);</div><div class="line">&#125;</div><div class="line"> </div><div class="line">function drawMountain(pos, height, width) &#123;</div><div class="line">  $.ctx.fillStyle = $.colors.mountains;</div><div class="line">  $.ctx.strokeStyle = $.colors.mountains;</div><div class="line">  $.ctx.lineJoin = &quot;round&quot;;</div><div class="line">  $.ctx.lineWidth = 20;</div><div class="line">  $.ctx.beginPath();</div><div class="line">  $.ctx.moveTo(pos, $.settings.skySize);</div><div class="line">  $.ctx.lineTo(pos + (width / 2), $.settings.skySize - height);</div><div class="line">  $.ctx.lineTo(pos + width, $.settings.skySize);</div><div class="line">  $.ctx.closePath();</div><div class="line">  $.ctx.stroke();</div><div class="line">  $.ctx.fill();</div><div class="line">&#125;</div><div class="line"> </div><div class="line">function drawSky() &#123;</div><div class="line">  $.ctx.fillStyle = $.colors.sky;</div><div class="line">  $.ctx.fillRect(0, 0, $.canvas.width, $.settings.skySize);</div><div class="line">&#125;</div><div class="line"> </div><div class="line">function drawRoad(min, max, squishFactor, color) &#123;</div><div class="line">  var basePos = $.canvas.width + $.state.xpos;</div><div class="line">   </div><div class="line">  $.ctx.fillStyle = color;</div><div class="line">  $.ctx.beginPath();</div><div class="line">  $.ctx.moveTo(((basePos + min) / 2) - ($.state.currentCurve * 3), $.settings.skySize);</div><div class="line">  $.ctx.quadraticCurveTo((((basePos / 2) + min)) + ($.state.currentCurve / 3) + squishFactor, $.settings.skySize + 52, (basePos + max) / 2, $.canvas.height);</div><div class="line">  $.ctx.lineTo((basePos - max) / 2, $.canvas.height);</div><div class="line">  $.ctx.quadraticCurveTo((((basePos / 2) - min)) + ($.state.currentCurve / 3) - squishFactor, $.settings.skySize + 52, ((basePos - min) / 2) - ($.state.currentCurve * 3), $.settings.skySize);</div><div class="line">  $.ctx.closePath();</div><div class="line">  $.ctx.fill();</div><div class="line">&#125;</div><div class="line"> </div><div class="line">function drawCar() &#123;</div><div class="line">  var carWidth = 160,</div><div class="line">      carHeight = 50,</div><div class="line">      carX = ($.canvas.width / 2) - (carWidth / 2),</div><div class="line">      carY = 320;</div><div class="line">   </div><div class="line">  // shadow</div><div class="line">  roundedRect($.ctx, &quot;rgba(0, 0, 0, 0.35)&quot;, carX - 1 + $.state.turn, carY + (carHeight - 35), carWidth + 10, carHeight, 9);</div><div class="line">   </div><div class="line">  // tires</div><div class="line">  roundedRect($.ctx, &quot;#111&quot;, carX, carY + (carHeight - 30), 30, 40, 6);</div><div class="line">  roundedRect($.ctx, &quot;#111&quot;, (carX - 22) + carWidth, carY + (carHeight - 30), 30, 40, 6);</div><div class="line">   </div><div class="line">  drawCarBody($.ctx);</div><div class="line">&#125;</div><div class="line"> </div><div class="line">function drawCarBody(ctx) &#123;</div><div class="line">  var startX = 299, startY = 311,</div><div class="line">      lights = [10, 26, 134, 152],</div><div class="line">      lightsY = 0;</div><div class="line">   </div><div class="line">  /* Front */</div><div class="line">  roundedRect($.ctx, &quot;#C2C2C2&quot;, startX + 6 + ($.state.turn * 1.1), startY - 18, 146, 40, 18);</div><div class="line">   </div><div class="line">  ctx.beginPath(); </div><div class="line">  ctx.lineWidth=&quot;12&quot;;</div><div class="line">  ctx.fillStyle=&quot;#FFFFFF&quot;;</div><div class="line">  ctx.strokeStyle=&quot;#FFFFFF&quot;;</div><div class="line">  ctx.moveTo(startX + 30, startY);</div><div class="line">  ctx.lineTo(startX + 46 + $.state.turn, startY - 25);</div><div class="line">  ctx.lineTo(startX + 114 + $.state.turn, startY - 25);</div><div class="line">  ctx.lineTo(startX + 130, startY);</div><div class="line">  ctx.fill();</div><div class="line">  ctx.stroke();</div><div class="line">  /* END: Front */</div><div class="line">   </div><div class="line">  ctx.lineWidth=&quot;12&quot;;</div><div class="line">  ctx.lineCap = &apos;round&apos;;</div><div class="line">  ctx.beginPath(); </div><div class="line">  ctx.fillStyle=&quot;#DEE0E2&quot;;</div><div class="line">  ctx.strokeStyle=&quot;#DEE0E2&quot;;</div><div class="line">  ctx.moveTo(startX + 2, startY + 12 + ($.state.turn * 0.2));</div><div class="line">  ctx.lineTo(startX + 159, startY + 12 + ($.state.turn * 0.2));</div><div class="line">  ctx.quadraticCurveTo(startX + 166, startY + 35, startX + 159, startY + 55 + ($.state.turn * 0.2));</div><div class="line">  ctx.lineTo(startX + 2, startY + 55 - ($.state.turn * 0.2));</div><div class="line">  ctx.quadraticCurveTo(startX - 5, startY + 32, startX + 2, startY + 12 - ($.state.turn * 0.2));</div><div class="line">  ctx.fill();</div><div class="line">  ctx.stroke();</div><div class="line"> </div><div class="line">  ctx.beginPath(); </div><div class="line">  ctx.lineWidth=&quot;12&quot;;</div><div class="line">  ctx.fillStyle=&quot;#DEE0E2&quot;;</div><div class="line">  ctx.strokeStyle=&quot;#DEE0E2&quot;;</div><div class="line">  ctx.moveTo(startX + 30, startY);</div><div class="line">  ctx.lineTo(startX + 40 + ($.state.turn * 0.7), startY - 15);</div><div class="line">  ctx.lineTo(startX + 120 + ($.state.turn * 0.7), startY - 15);</div><div class="line">  ctx.lineTo(startX + 130, startY);</div><div class="line">  ctx.fill();</div><div class="line">  ctx.stroke();</div><div class="line">   </div><div class="line">  roundedRect(ctx, &quot;#474747&quot;, startX - 4, startY, 169, 10, 3, true, 0.2);</div><div class="line">  roundedRect(ctx, &quot;#474747&quot;, startX + 40, startY + 5, 80, 10, 5, true, 0.1);</div><div class="line">   </div><div class="line">  ctx.fillStyle = &quot;#FF9166&quot;;</div><div class="line">   </div><div class="line">  lights.forEach(function(xPos) &#123;</div><div class="line">    ctx.beginPath();</div><div class="line">    ctx.arc(startX + xPos, startY + 20 + lightsY, 6, 0, Math.PI*2, true); </div><div class="line">    ctx.closePath();</div><div class="line">    ctx.fill();</div><div class="line">    lightsY += $.state.turn * 0.05;</div><div class="line">  &#125;);</div><div class="line">   </div><div class="line">  ctx.lineWidth=&quot;9&quot;;</div><div class="line">  ctx.fillStyle=&quot;#222222&quot;;</div><div class="line">  ctx.strokeStyle=&quot;#444&quot;;</div><div class="line">   </div><div class="line">  roundedRect($.ctx, &quot;#FFF&quot;, startX + 60, startY + 25, 40, 18, 3, true, 0.05);</div><div class="line">&#125;</div><div class="line"> </div><div class="line">function roundedRect(ctx, color, x, y, width, height, radius, turn, turneffect) &#123;</div><div class="line">  var skew = turn === true ? $.state.turn * turneffect : 0;</div><div class="line">   </div><div class="line">  ctx.fillStyle = color;</div><div class="line">  ctx.beginPath();</div><div class="line">  ctx.moveTo(x + radius, y - skew);</div><div class="line">   </div><div class="line">  // top right</div><div class="line">  ctx.lineTo(x + width - radius, y + skew);</div><div class="line">  ctx.arcTo(x + width, y + skew, x + width, y + radius + skew, radius);</div><div class="line">  ctx.lineTo(x + width, y + radius + skew);</div><div class="line">   </div><div class="line">  // down right</div><div class="line">  ctx.lineTo(x + width, (y + height + skew) - radius);</div><div class="line">  ctx.arcTo(x + width, y + height + skew, (x + width) - radius, y + height + skew, radius);</div><div class="line">  ctx.lineTo((x + width) - radius, y + height + skew);</div><div class="line">   </div><div class="line">  // down left</div><div class="line">  ctx.lineTo(x + radius, y + height - skew);</div><div class="line">  ctx.arcTo(x, y + height - skew, x, (y + height - skew) - radius, radius);</div><div class="line">  ctx.lineTo(x, (y + height - skew) - radius);</div><div class="line">   </div><div class="line">  // top left</div><div class="line">  ctx.lineTo(x, y + radius - skew);</div><div class="line">  ctx.arcTo(x, y - skew, x + radius, y - skew, radius);</div><div class="line">  ctx.lineTo(x + radius, y - skew);</div><div class="line">  ctx.fill();</div><div class="line">&#125;</div><div class="line"> </div><div class="line">function drawGround(ctx, offset, lightColor, darkColor, width) &#123;</div><div class="line">  var pos = ($.settings.skySize - $.settings.ground.min) + offset, stepSize = 1, drawDark = $.state.startDark, firstRow = true;</div><div class="line">  ctx.fillStyle = lightColor;</div><div class="line">  ctx.fillRect(0, $.settings.skySize, width, $.settings.ground.size);</div><div class="line"> </div><div class="line">  ctx.fillStyle =  darkColor;</div><div class="line">  while(pos &lt;= $.canvas.height) &#123;</div><div class="line">    stepSize = norm(pos, $.settings.skySize, $.canvas.height) * $.settings.ground.max;</div><div class="line">    if(stepSize &lt; $.settings.ground.min) &#123;</div><div class="line">      stepSize = $.settings.ground.min;</div><div class="line">    &#125;</div><div class="line">   </div><div class="line">    if(drawDark) &#123;</div><div class="line">      if(firstRow) &#123;</div><div class="line">        ctx.fillRect(0, $.settings.skySize, width, stepSize - (offset &gt; $.settings.ground.min ? $.settings.ground.min : $.settings.ground.min - offset));</div><div class="line">      &#125; else &#123;</div><div class="line">        ctx.fillRect(0, pos &lt; $.settings.skySize ? $.settings.skySize : pos, width, stepSize);</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">     </div><div class="line">    firstRow = false;</div><div class="line">    pos += stepSize;</div><div class="line">    drawDark = !drawDark;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line">     </div><div class="line">&lt;/script&gt;</div><div class="line">    &lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<p><img src="http://oohubzl9h.bkt.clouddn.com/%E8%B5%9B%E8%BD%A6.png" alt="saiche"></p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/特效/" rel="tag"># 特效</a>
          
        </div>
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/04/03/servlet相关/" rel="next" title="servlet相关">
                <i class="fa fa-chevron-left"></i> servlet相关
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/01/05/JSON/" rel="prev" title="JSON">
                JSON <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="http://oohubzl9h.bkt.clouddn.com/%E9%99%88.jpg"
               alt="杨彦修" />
          <p class="site-author-name" itemprop="name">杨彦修</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">78</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">14</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">25</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">杨彦修</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  








  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  


  




	





  





  





  






  





  

  

  

  

  

</body>
</html>
